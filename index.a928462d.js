function e(e){return e&&e.__esModule?e.default:e}var t,r,n,i,o,a,s,c,u=globalThis,l={},f={},h=u.parcelRequire7378;null==h&&((h=function(e){if(e in l)return l[e].exports;if(e in f){var t=f[e];delete f[e];var r={id:e,exports:{}};return l[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){f[e]=t},u.parcelRequire7378=h);var p=h.register;p("4kbyH",function(e,t){e.exports="3.22.3"}),p("kBwwM",function(e,t){!function(e){function t(e,t,r){var n;return t&&"object"==typeof t&&(void 0!==t[e]?n=t[e]:r&&t.get&&"function"==typeof t.get&&(n=t.get(e))),n}e.Template=function(e,t,r,n){e=e||{},this.r=e.code||this.r,this.c=r,this.options=n||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,r){return""},v:function(e){return s.test(e=c(e))?e.replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(a,"&quot;"):e},t:c,render:function(e,t,r){return this.ri([e],t||{},r)},ri:function(e,t,r){return this.r(e,t,r)},ep:function(e,t){var r=this.partials[e],n=t[r.name];if(r.instance&&r.base==n)return r.instance;if("string"==typeof n){if(!this.c)throw Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,r.subs){for(key in t.stackText||(t.stackText={}),r.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=function(e,t,r,n,i,o){function a(){}function s(){}a.prototype=e,s.prototype=e.subs;var c,u=new a;for(c in u.subs=new s,u.subsText={},u.buf="",n=n||{},u.stackSubs=n,u.subsText=o,t)n[c]||(n[c]=t[c]);for(c in n)u.subs[c]=n[c];for(c in i=i||{},u.stackPartials=i,r)i[c]||(i[c]=r[c]);for(c in i)u.partials[c]=i[c];return u}(n,r.subs,r.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n,n},rp:function(e,t,r,n){var i=this.ep(e,r);return i?i.ri(t,r,n):""},rs:function(e,t,r){var n=e[e.length-1];if(!u(n)){r(e,t,this);return}for(var i=0;i<n.length;i++)e.push(n[i]),r(e,t,this),e.pop()},s:function(e,t,r,n,i,o,a){var s;return(!u(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,r,n,i,o,a)),s=!!e,!n&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,r,n,i){var o,a=e.split("."),s=this.f(a[0],r,n,i),c=this.options.modelGet,l=null;if("."===e&&u(r[r.length-2]))s=r[r.length-1];else for(var f=1;f<a.length;f++)void 0!==(o=t(a[f],s,c))?(l=s,s=o):s="";return(!i||!!s)&&(i||"function"!=typeof s||(r.push(l),s=this.mv(s,r,n),r.pop()),s)},f:function(e,r,n,i){for(var o=!1,a=!1,s=this.options.modelGet,c=r.length-1;c>=0;c--)if(void 0!==(o=t(e,r[c],s))){a=!0;break}return a?(i||"function"!=typeof o||(o=this.mv(o,r,n)),o):!i&&""},ls:function(e,t,r,n,i){var o=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(c(e.call(t,n)),t,r)),this.options.delimiters=o,!1},ct:function(e,t,r){if(this.options.disableLambda)throw Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,r)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,r,n,i,o,a){var s,c=t[t.length-1],u=e.call(c);return"function"==typeof u?!!n||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,r,s.substring(i,o),a)):u},mv:function(e,t,r){var n=t[t.length-1],i=e.call(n);return"function"==typeof i?this.ct(c(i.call(n)),n,r):i},sub:function(e,t,r,n){var i=this.subs[e];i&&(this.activeSub=e,i(t,r,this,n),this.activeSub=!1)}};var r=/&/g,n=/</g,i=/>/g,o=/\'/g,a=/\"/g,s=/[&<>\"\']/;function c(e){return String(null==e?"":e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(e.exports)});var d={};d=function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach(function(e){var r;r=n[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(r);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=n(),s=i&&i.miss||function(){return Promise.resolve()};return a.then(function(e){return s(e)}).then(function(){return a})},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function o(e,t){return t&&Object.keys(t).forEach(function(r){e[r]=t[r](e)}),e}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[i++])})}var s={WithinQueryParameters:0,WithinHeaders:1};function c(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])}),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var u={Read:1,Write:2,Any:3};function l(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t(t({},e),{},{status:r,lastUpdate:Date.now()})}function f(e){return"string"==typeof e?{protocol:"https",url:e,accept:u.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||u.Any}}var h="POST";function p(e,r,i,o){var a,s,c,u=[],h=function(e,r){if("GET"!==e.method&&(void 0!==e.data||void 0!==r.data))return JSON.stringify(Array.isArray(e.data)?e.data:t(t({},e.data),r.data))}(i,o),p=(a=t(t({},e.headers),o.headers),s={},Object.keys(a).forEach(function(e){var t=a[e];s[e.toLowerCase()]=t}),s),y=i.method,v="GET"!==i.method?{}:t(t({},i.data),o.data),b=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),v),o.queryParameters),O=0,S=function t(r,n){var a,s,c,f=r.pop();if(void 0===f)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:m(u)};var v={data:h,headers:p,method:y,url:(a=i.path,s=d(b),c="".concat(f.protocol,"://").concat(f.url,"/").concat("/"===a.charAt(0)?a.substr(1):a),s.length&&(c+="?".concat(s)),c),connectTimeout:n(O,e.timeouts.connect),responseTimeout:n(O,o.timeout)},S=function(e){var t={request:v,response:e,host:f,triesLeft:r.length};return u.push(t),t},j={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw{name:"DeserializationError",message:t.message,response:e}}}(e)},onRetry:function(i){var o=S(i);return i.isTimedOut&&O++,Promise.all([e.logger.info("Retryable failure",g(o)),e.hostsCache.set(f,l(f,i.isTimedOut?3:2))]).then(function(){return t(r,n)})},onFail:function(e){throw S(e),function(e,t){var r=e.content,n=e.status,i=r;try{i=JSON.parse(r).message}catch(e){}return{name:"ApiError",message:i,status:n,transporterStackTrace:t}}(e,m(u))}};return e.requester.send(v).then(function(e){var t,r,n;return(t=e.status,e.isTimedOut||(r=e.isTimedOut,n=e.status,!r&&0==~~n)||2!=~~(t/100)&&4!=~~(t/100))?j.onRetry(e):2==~~(e.status/100)?j.onSuccess(e):j.onFail(e)})};return(c=e.hostsCache,Promise.all(r.map(function(e){return c.get(e,function(){return Promise.resolve(l(e))})})).then(function(e){var t=e.filter(function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}),i=e.filter(function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}),o=[].concat(n(t),n(i));return{getTimeout:function(e,t){return(0===i.length&&0===e?1:i.length+3+e)*t},statelessHosts:o.length>0?o.map(function(e){return f(e)}):r}})).then(function(e){return S(n(e.statelessHosts).reverse(),e.getTimeout)})}function d(e){return Object.keys(e).map(function(t){var r;return a("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]))}).join("&")}function m(e){return e.map(function(e){return g(e)})}function g(e){var r=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),r)})})}var y=function(e){var n,i,a,l,h,d,m,g,y,v,b,O,S,j=e.appId,P=(n=void 0!==e.authMode?e.authMode:s.WithinHeaders,i={"x-algolia-api-key":e.apiKey,"x-algolia-application-id":j},{headers:function(){return n===s.WithinHeaders?i:{}},queryParameters:function(){return n===s.WithinQueryParameters?i:{}}}),w=(l=(a=t(t({hosts:[{url:"".concat(j,"-dsn.algolia.net"),accept:u.Read},{url:"".concat(j,".algolia.net"),accept:u.Write}].concat(function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}([{url:"".concat(j,"-1.algolianet.com")},{url:"".concat(j,"-2.algolianet.com")},{url:"".concat(j,"-3.algolianet.com")}]))},e),{},{headers:t(t(t({},P.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:t(t({},P.queryParameters()),e.queryParameters)})).hostsCache,h=a.logger,d=a.requester,m=a.requestsCache,g=a.responsesCache,y=a.timeouts,v=a.userAgent,b=a.hosts,O=a.queryParameters,S={hostsCache:l,logger:h,requester:d,requestsCache:m,responsesCache:g,timeouts:y,userAgent:v,headers:a.headers,queryParameters:O,hosts:b.map(function(e){return f(e)}),read:function(e,t){var n=c(t,S.timeouts.read),i=function(){return p(S,S.hosts.filter(function(e){return 0!=(e.accept&u.Read)}),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return i();var o={request:e,mappedRequestOptions:n,transporter:{queryParameters:S.queryParameters,headers:S.headers}};return S.responsesCache.get(o,function(){return S.requestsCache.get(o,function(){return S.requestsCache.set(o,i()).then(function(e){return Promise.all([S.requestsCache.delete(o),e])},function(e){return Promise.all([S.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){var t=r(e,2);return t[0],t[1]})})},{miss:function(e){return S.responsesCache.set(o,e)}})},write:function(e,t){return p(S,S.hosts.filter(function(e){return 0!=(e.accept&u.Write)}),e,c(t,S.timeouts.write))}});return o({transporter:w,appId:j,addAlgoliaAgent:function(e,t){w.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([w.requestsCache.clear(),w.responsesCache.clear()]).then(function(){})}},e.methods)},v=function(e){return function(t,r){return"GET"===t.method?e.transporter.read(t,r):e.transporter.write(t,r)}},b=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({transporter:e.transporter,appId:e.appId,indexName:t},r.methods)}},O=function(e){return function(r,n){var i=r.map(function(e){return t(t({},e),{},{params:d(e.params||{})})});return e.transporter.read({method:h,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},n)}},S=function(e){return function(r,n){return Promise.all(r.map(function(r){var i=r.params,o=i.facetName,a=i.facetQuery,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(i,["facetName","facetQuery"]);return b(e)(r.indexName,{methods:{searchForFacetValues:w}}).searchForFacetValues(o,a,t(t({},n),s))}))}},j=function(e){return function(t,r,n){return e.transporter.read({method:h,path:a("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},P=function(e){return function(t,r){return e.transporter.read({method:h,path:a("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r)}},w=function(e){return function(t,r,n){return e.transporter.read({method:h,path:a("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},_=function(e){return function(r,n){var i=r.map(function(e){return t(t({},e),{},{threshold:e.threshold||0})});return e.transporter.read({method:h,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},n)}};function R(e,o,a){var c,u,l,f,h,p,d,m;return y(t(t(t({},{appId:e,apiKey:o,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return r.setRequestHeader(t,e.headers[t])});var n,i=function(e,n){return setTimeout(function(){r.abort(),t({status:0,content:n,isTimedOut:!0})},1e3*e)},o=i(e.connectTimeout,"Connection timeout");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(o),n=i(e.responseTimeout,"Socket timeout"))},r.onerror=function(){0===r.status&&(clearTimeout(o),clearTimeout(n),t({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(o),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:i(),requestsCache:i({serializable:!1}),hostsCache:function e(t){var i=n(t.caches),o=i.shift();return void 0===o?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,n.miss(e)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(t,r,n).catch(function(){return e({caches:i}).get(t,r,n)})},set:function(t,r){return o.set(t,r).catch(function(){return e({caches:i}).set(t,r)})},delete:function(t){return o.delete(t).catch(function(){return e({caches:i}).delete(t)})},clear:function(){return o.clear().catch(function(){return e({caches:i}).clear()})}}}({caches:[(c={key:"".concat("4.24.0","-").concat(e)},l="algoliasearch-client-js-".concat(c.key),f=function(){return void 0===u&&(u=c.localStorage||window.localStorage),u},h=function(){return JSON.parse(f().getItem(l)||"{}")},p=function(e){f().setItem(l,JSON.stringify(e))},d=function(){var e=c.timeToLive?1e3*c.timeToLive:null,t=Object.fromEntries(Object.entries(h()).filter(function(e){return void 0!==r(e,2)[1].timestamp}));p(t),e&&p(Object.fromEntries(Object.entries(t).filter(function(t){var n=r(t,2)[1],i=(new Date).getTime();return!(n.timestamp+e<i)})))},{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){d();var t=JSON.stringify(e);return h()[t]}).then(function(e){return Promise.all([e?e.value:t(),void 0!==e])}).then(function(e){var t=r(e,2),i=t[0];return Promise.all([i,t[1]||n.miss(i)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var r=h();return r[JSON.stringify(e)]={timestamp:(new Date).getTime(),value:t},f().setItem(l,JSON.stringify(r)),t})},delete:function(e){return Promise.resolve().then(function(){var t=h();delete t[JSON.stringify(e)],f().setItem(l,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){f().removeItem(l)})}}),i()]}),userAgent:(m={value:"Algolia for JavaScript (".concat("4.24.0",")"),add:function(e){var t="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return -1===m.value.indexOf(t)&&(m.value="".concat(m.value).concat(t)),m}}).add({segment:"Browser",version:"lite"}),authMode:s.WithinQueryParameters}),a),{},{methods:{search:O,searchForFacetValues:S,multipleQueries:O,multipleSearchForFacetValues:S,customRequest:v,initIndex:function(e){return function(t){return b(e)(t,{methods:{search:P,searchForFacetValues:w,findAnswers:j}})}},getRecommendations:_}}))}return R.version="4.24.0",R}();var m=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.descendantName,n=t.modifierName;return"".concat("ais","-").concat(e).concat(r?"-".concat(r):"").concat(n?"--".concat(n):"")}};function g(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v=/[&<>"']/g,b=RegExp(v.source),O={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},S=/&(amp|quot|lt|gt|#39);/g,j=RegExp(S.source);function P(e){return e&&j.test(e)?e.replace(S,function(e){return O[e]}):e}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t,r){var n;return(n=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===_(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},N={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function I(e){return(e&&b.test(e)?e.replace(v,function(e){return y[e]}):e).replace(RegExp(T.highlightPreTag,"g"),N.highlightPreTag).replace(RegExp(T.highlightPostTag,"g"),N.highlightPostTag)}function k(e){return function(e){if(!("object"===w(e)&&null!==e)||"[object Object]"!==(null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)&&"string"!=typeof e.value?Object.keys(e).reduce(function(t,r){return E(E({},t),{},F({},r,k(e[r])))},{}):Array.isArray(e)?e.map(k):E(E({},e),{},{value:I(e.value)})}var C=m("Highlight");function A(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(g(i._highlightResult,t)||{}).value,c=C({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return(void 0===s?"":s).replace(RegExp(N.highlightPreTag,"g"),"<".concat(n,' class="').concat(c,'">')).replace(RegExp(N.highlightPostTag,"g"),"</".concat(n,">"))}function D(e){var t=N.highlightPreTag,r=N.highlightPostTag;return e.map(function(e){return e.isHighlighted?t+e.value+r:e.value}).join("")}var H=new RegExp(/\w/i);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==L(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Q(e){return e.some(function(e){return e.isHighlighted})?e.map(function(t,r){var n,i,o,a,s;return U(U({},t),{},{isHighlighted:(o=e[r],a=(null===(n=e[r+1])||void 0===n?void 0:n.isHighlighted)||!0,s=(null===(i=e[r-1])||void 0===i?void 0:i.isHighlighted)||!0,H.test(P(o.value))||s!==a?!o.isHighlighted:!s)})}):e.map(function(e){return U(U({},e),{},{isHighlighted:!1})})}function W(e){var t=N.highlightPostTag,r=N.highlightPreTag,n=e.split(r),i=n.shift(),o=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(e){var r=e.split(t);o.push({value:r[0],isHighlighted:!0}),""!==r[1]&&o.push({value:r[1],isHighlighted:!1})}),o}var $=m("ReverseHighlight");function q(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(g(i._highlightResult,t)||{}).value,c=$({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return D(Q(W(void 0===s?"":s))).replace(RegExp(N.highlightPreTag,"g"),"<".concat(n,' class="').concat(c,'">')).replace(RegExp(N.highlightPostTag,"g"),"</".concat(n,">"))}var B=m("Snippet");function V(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(g(i._snippetResult,t)||{}).value,c=B({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return(void 0===s?"":s).replace(RegExp(N.highlightPreTag,"g"),"<".concat(n,' class="').concat(c,'">')).replace(RegExp(N.highlightPostTag,"g"),"</".concat(n,">"))}var K=m("ReverseSnippet");function J(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(g(i._snippetResult,t)||{}).value,c=K({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return D(Q(W(void 0===s?"":s))).replace(RegExp(N.highlightPreTag,"g"),"<".concat(n,' class="').concat(c,'">')).replace(RegExp(N.highlightPostTag,"g"),"</".concat(n,">"))}function z(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Y(e){return JSON.parse(decodeURIComponent(atob(e)))}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){return function(e){var t,r=e.method,n=e.payload;if("object"!==G(n))throw Error("The insights helper expects the payload to be an object.");try{t=z(n)}catch(e){throw Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(r,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(){return function(e){if(("undefined"==typeof document?"undefined":Z(document))==="object"&&"string"==typeof document.cookie)for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}("_ALGOLIA")}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},r=t.fallback;return"undefined"==typeof window?r():e({window:window})}function er(e){return e!==Object(e)}function en(e,t){if(e===t)return!0;if(er(e)||er(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t)||!en(e[i],t[i]))return!1}return!0}var ei=["page"];function eo(e){var t=e||{};return t.page,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,ei)}var ea="ais.infiniteHits",es={};function ec(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function eu(e){return"function"==typeof e}function el(e){return"object"==typeof e&&null!==e}es=ec,ec.prototype._events=void 0,ec.prototype._maxListeners=void 0,ec.defaultMaxListeners=10,ec.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},ec.prototype.emit=function(e){var t,r,n,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||el(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var s=Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(void 0===(r=this._events[e]))return!1;if(eu(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(el(r))for(o=0,i=Array.prototype.slice.call(arguments,1),n=(a=r.slice()).length;o<n;o++)a[o].apply(this,i);return!0},ec.prototype.addListener=function(e,t){var r;if(!eu(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,eu(t.listener)?t.listener:t),this._events[e]?el(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,el(this._events[e])&&!this._events[e].warned&&(r=void 0===this._maxListeners?ec.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},ec.prototype.on=ec.prototype.addListener,ec.prototype.once=function(e,t){if(!eu(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},ec.prototype.removeListener=function(e,t){var r,n,i,o;if(!eu(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||eu(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(el(r)){for(o=i;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},ec.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0==arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0==arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(eu(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},ec.prototype.listeners=function(e){return this._events&&this._events[e]?eu(this._events[e])?[this._events[e]]:this._events[e].slice():[]},ec.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(eu(t))return 1;if(t)return t.length}return 0},ec.listenerCount=function(e,t){return e.listenerCount(t)};var ef={},eh={},ep={},ed={};function em(e,t,r){this.main=e,this.fn=t,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}(ed=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})})(em,es),em.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},em.prototype.getModifiedState=function(e){return this.fn(e)},em.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)},ep=em;var eg={},ey=(eg={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}}).escapeFacetValue,ev={};function eb(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}ev=function(e){eb(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];eb(n)&&function e(t,r){if(t===r)return t;for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&"__proto__"!==n&&"constructor"!==n){var i=r[n],o=t[n];(void 0===o||void 0!==i)&&(eb(o)&&eb(i)?t[n]=e(o,i):t[n]="object"==typeof i&&null!==i?e(Array.isArray(i)?[]:{},i):i)}return t}(e,n)}return e};var eO={};eO=function(e){return e&&Object.keys(e).length>0};var eS={};eS=function(e,t){if(null===e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i};var ej={};function eP(e){e=e||{},this.params=e.params||[]}eP.prototype={constructor:eP,addParams:function(e){var t=this.params.slice();return t.push(e),new eP({params:t})},removeParams:function(e){return new eP({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(e){return void 0===t[e.$$id]}).map(function(t){var r=Object.assign({},t,{indexName:e,threshold:t.threshold||0});return delete r.$$id,r})}},ej=eP;var ew={};function e_(e,t){this._state=e,this._rawResults={};var r=this;e.params.forEach(function(e){var n=e.$$id;r[n]=t[n],r._rawResults[n]=t[n]})}e_.prototype={constructor:e_},ew=e_;var eR={};function ex(e){return Object.keys(e).sort().reduce(function(t,r){return t[r]=e[r],t},{})}var eE={_getQueries:function(e,t){var r=[];return r.push({indexName:e,params:eE._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(n){r.push({indexName:e,params:eE._getDisjunctiveFacetSearchParams(t,n)})}),t.getRefinedHierarchicalFacets().forEach(function(n){var i=t.getHierarchicalFacetByName(n),o=t.getHierarchicalRefinement(n),a=t._getHierarchicalFacetSeparator(i);if(o.length>0&&o[0].split(a).length>1){var s=o[0].split(a).slice(0,-1).reduce(function(e,t,r){return e.concat({attribute:i.attributes[r],value:0===r?t:[e[e.length-1].value,t].join(a)})},[]);s.forEach(function(n,o){var a=eE._getDisjunctiveFacetSearchParams(t,n.attribute,0===o);function c(e){return i.attributes.some(function(t){return t===e.split(":")[0]})}var u=(a.facetFilters||[]).reduce(function(e,t){if(Array.isArray(t)){var r=t.filter(function(e){return!c(e)});r.length>0&&e.push(r)}return"string"!=typeof t||c(t)||e.push(t),e},[]),l=s[o-1];o>0?a.facetFilters=u.concat(l.attribute+":"+l.value):u.length>0?a.facetFilters=u:delete a.facetFilters,r.push({indexName:e,params:a})})}}),r},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(eE._getHitsHierarchicalFacetsAttributes(e)).sort(),r=eE._getFacetFilters(e),n=eE._getNumericFilters(e),i=eE._getTagFilters(e),o={};return t.length>0&&(o.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(o.tagFilters=i),r.length>0&&(o.facetFilters=r),n.length>0&&(o.numericFilters=n),ex(ev({},e.getQueryParams(),o))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=eE._getFacetFilters(e,t,r),i=eE._getNumericFilters(e,t),o=eE._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};o.length>0&&(a.tagFilters=o);var s=e.getHierarchicalFacetByName(t);return s?a.facets=eE._getDisjunctiveHierarchicalFacetAttribute(e,s,r):a.facets=t,i.length>0&&(a.numericFilters=i),n.length>0&&(a.facetFilters=n),ex(ev({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach(function(e){var o=i[e]||[];t!==n&&o.forEach(function(t){if(Array.isArray(t)){var i=t.map(function(t){return n+e+t});r.push(i)}else r.push(n+e+t)})})}),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(e){(i[e]||[]).slice().sort().forEach(function(t){n.push(e+":"+t)})});var o=e.facetsExcludes||{};Object.keys(o).sort().forEach(function(e){(o[e]||[]).sort().forEach(function(t){n.push(e+":-"+t)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(e){var r=a[e]||[];if(e!==t&&r&&0!==r.length){var i=[];r.slice().sort().forEach(function(t){i.push(e+":"+t)}),n.push(i)}});var s=e.hierarchicalFacetsRefinements||{};return Object.keys(s).sort().forEach(function(i){var o,a,c=(s[i]||[])[0];if(void 0!==c){var u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),f=e._getHierarchicalRootPath(u);if(t===i){if(-1===c.indexOf(l)||!f&&!0===r||f&&f.split(l).length===c.split(l).length)return;f?(a=f.split(l).length-1,c=f):(a=c.split(l).length-2,c=c.slice(0,c.lastIndexOf(l))),o=u.attributes[a]}else a=c.split(l).length-1,o=u.attributes[a];o&&n.push([o+":"+c])}}),n},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce(function(t,r){var n=e.getHierarchicalRefinement(r.name)[0];if(!n)return t.push(r.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(r),o=n.split(i).length,a=r.attributes.slice(0,o+1);return t.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),o=0;return i&&(o=i.split(n).length),[t.attributes[o]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,o={facetQuery:t,facetName:e};return"number"==typeof r&&(o.maxFacetHits=r),ex(ev({},eE._getHitsSearchParams(i),o))}};eR=eE;var eF={},eT={};eT=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(e,t){return Object.keys(Object(t)).forEach(function(r){void 0!==t[r]&&(void 0!==e[r]&&delete e[r],e[r]=t[r])}),e},{})};var eN={};eN=function(e,t){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}};var eI={};eI=function(e,t){return e.filter(function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n})};var ek={};ek=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw Error("The value should be a number, a parsable string or an array of those.")};var eC={};eC=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)};var eA={},eD={addRefinement:function(e,t,r){if(eD.isRefined(e,t,r))return e;var n=""+r,i=e[t]?e[t].concat(n):[n],o={};return o[t]=i,eT({},o,e)},removeRefinement:function(e,t,r){if(void 0===r)return eD.clearRefinement(e,function(e,r){return t===r});var n=""+r;return eD.clearRefinement(e,function(e,r){return t===r&&n===e})},toggleRefinement:function(e,t,r){if(void 0===r)throw Error("toggleRefinement should be used with a value");return eD.isRefined(e,t,r)?eD.removeRefinement(e,t,r):eD.addRefinement(e,t,r)},clearRefinement:function(e,t,r){if(void 0===t)return eO(e)?{}:e;if("string"==typeof t)return eS(e,[t]);if("function"==typeof t){var n=!1,i=Object.keys(e).reduce(function(i,o){var a=e[o]||[],s=a.filter(function(e){return!t(e,o,r)});return s.length!==a.length&&(n=!0),i[o]=s,i},{});return n?i:e}},isRefined:function(e,t,r){var n=!!e[t]&&e[t].length>0;return void 0!==r&&n?-1!==e[t].indexOf(""+r):n}};function eH(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,r){return eH(t[r],e)}):e===t}function eL(e){var t=e?eL._parseNumbers(e):{};void 0===t.userToken||eC(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach(function(e){var n=-1!==eL.PARAMETERS.indexOf(e),i=void 0!==t[e];!n&&i&&(r[e]=t[e])})}eA=eD,eL.PARAMETERS=Object.keys(new eL),eL._parseNumbers=function(e){if(e instanceof eL)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(r){var n=e[r];if("string"==typeof n){var i=parseFloat(n);t[r]=isNaN(i)?n:i}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(t){var n=e.numericRefinements[t]||{};r[t]={},Object.keys(n).forEach(function(e){var i=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});r[t][e]=i})}),t.numericRefinements=r}return ev(e,t)},eL.make=function(e){var t=new eL(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var r=t.getHierarchicalRefinement(e.name);r.length>0&&0!==r[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(r=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},eL.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&eO(r.numericRefinements)?Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):eO(e.numericRefinements)&&r.numericFilters?Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},eL.prototype={constructor:eL,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:eA.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:eA.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:eA.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:eA.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=ek(r);if(this.isNumericRefined(e,t,n))return this;var i=ev({},this.numericRefinements);return i[e]=ev({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,r){return void 0!==r?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e&&n.op===t&&eH(n.val,ek(r))})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,n){return n===e&&r.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,r){return r===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return eO(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return eS(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,r=this.numericRefinements,n=Object.keys(r).reduce(function(n,i){var o=r[i],a={};return Object.keys(o=o||{}).forEach(function(r){var n=o[r]||[],s=[];n.forEach(function(t){e({val:t,op:r},i,"numeric")||s.push(t)}),s.length!==n.length&&(t=!0),a[r]=s}),n[i]=a,n},{});return t?n:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw Error(e+" is not defined in the facets attribute of the helper configuration");return eA.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:eA.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw Error(e+" is not defined in the facets attribute of the helper configuration");return eA.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:eA.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return eA.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:eA.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw Error(e+" is not defined in the facets attribute of the helper configuration");return eA.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:eA.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw Error(e+" is not defined in the facets attribute of the helper configuration");return eA.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:eA.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return eA.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:eA.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter(function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:eA.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:eA.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:eA.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:eT({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:eT({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:eT({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&eA.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&eA.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&eA.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return t?-1!==r.indexOf(t):r.length>0},isNumericRefined:function(e,t,r){if(void 0===r&&void 0===t)return!!this.numericRefinements[e];var n,i=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===r||!i)return i;var o=ek(r),a=void 0!==(n=this.numericRefinements[e][t],eN(n,function(e){return eH(e,o)}));return i&&a},isTagRefined:function(e){return -1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=eI(Object.keys(this.numericRefinements).filter(function(t){return Object.keys(e.numericRefinements[t]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(t){return e.disjunctiveFacetsRefinements[t].length>0}).concat(t).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return eI(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return e.hierarchicalFacetsRefinements[t].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return -1===e.indexOf(t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},r=this;return Object.keys(this).forEach(function(n){var i=r[n];-1===e.indexOf(n)&&void 0!==i&&(t[n]=i)}),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var t=eL.validate(this,e);if(t)throw t;var r=this,n=eL._parseNumbers(e),i=Object.keys(this).reduce(function(e,t){return e[t]=r[t],e},{}),o=Object.keys(n).reduce(function(e,t){var r=void 0!==e[t],i=void 0!==n[t];return r&&!i?eS(e,[t]):(i&&(e[t]=n[t]),e)},i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return eN(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(r).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}},eF=eL;var eM={},eU={};eU=function(e){return Array.isArray(e)?e.filter(Boolean):[]};var eQ={};eQ=function(e,t){if(!Array.isArray(e))return -1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return -1};var eW={};eW=function(e,t){var r=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var n=t.split(":"),i=eN(r,function(e){return e[0]===n[0]});return n.length>1||!i?(e[0].push(n[0]),e[1].push(n[1])):(e[0].push(i[0]),e[1].push(i[1])),e},[[],[]])};var e$={};e$=function(e,t,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var n=e.map(function(e,r){return{criteria:t.map(function(t){return e[t]}),index:r,value:e}});return n.sort(function(e,t){for(var n=-1;++n<e.criteria.length;){var i=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,o=null===t;if(!o&&e>t||n&&i||!r)return 1;if(!n&&e<t||o&&r||!i)return -1}return 0}(e.criteria[n],t.criteria[n]);if(i){if(n>=r.length)return i;if("desc"===r[n])return-i;return i}}return e.index-t.index}),n.map(function(e){return e.value})};var eq=eg.escapeFacetValue,eB=eg.unescapeFacetValue,eV={};eV=function(e){return function(t,r){var n=e.hierarchicalFacets[r],i=e.hierarchicalFacetsRefinements[n.name]&&e.hierarchicalFacetsRefinements[n.name][0]||"",o=e._getHierarchicalFacetSeparator(n),a=e._getHierarchicalRootPath(n),s=e._getHierarchicalShowParentLevel(n),c=eW(e._getHierarchicalFacetSortBy(n)),u=t.every(function(e){return e.exhaustive}),l=t;return a&&(l=t.slice(a.split(o).length)),l.reduce(function(e,t,r){var n=e;if(r>0){var u=0;for(n=e;u<r;){var l=n&&Array.isArray(n.data)?n.data:[];n=eN(l,function(e){return e.isRefined}),u++}}if(n){var f=Object.keys(t.data).map(function(e){return[e,t.data[e]]}).filter(function(e){var t,r;return t=e[0],r=n.path||a,(!a||0===t.indexOf(a)&&a!==t)&&(!a&&-1===t.indexOf(o)||a&&t.split(o).length-a.split(o).length==1||-1===t.indexOf(o)&&-1===i.indexOf(o)||0===i.indexOf(t)||0===t.indexOf(r+o)&&(s||0===t.indexOf(i)))});n.data=e$(f.map(function(e){var r,n,a,s,c=e[0];return r=e[1],n=eJ(i),a=t.exhaustive,{name:(s=c.split(o))[s.length-1].trim(),path:c,escapedValue:eK(c),count:r,isRefined:n===c||0===n.indexOf(c+o),exhaustive:a,data:null}}),c[0],c[1])}return e},{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:u,data:null})}};var eK=eg.escapeFacetValue,eJ=eg.unescapeFacetValue;function ez(e){var t={};return e.forEach(function(e,r){t[e]=r}),t}function eY(e,t,r){t&&t[r]&&(e.stats=t[r])}function eG(e,t,r){var n=t[0]||{};this._rawResults=t;var i=this;Object.keys(n).forEach(function(e){i[e]=n[e]});var o=ev({persistHierarchicalRootCount:!1},r);Object.keys(o).forEach(function(e){i[e]=o[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),s=ez(e.facets),c=ez(e.disjunctiveFacets),u=1,l=n.facets||{};Object.keys(l).forEach(function(t){var r=l[t],o=(f=e.hierarchicalFacets,eN(f,function(e){return(e.attributes||[]).indexOf(t)>-1}));if(o){var a=o.attributes.indexOf(t),u=eQ(e.hierarchicalFacets,function(e){return e.name===o.name});i.hierarchicalFacets[u][a]={attribute:t,data:r,exhaustive:n.exhaustiveFacetsCount}}else{var f,h,p=-1!==e.disjunctiveFacets.indexOf(t),d=-1!==e.facets.indexOf(t);p&&(h=c[t],i.disjunctiveFacets[h]={name:t,data:r,exhaustive:n.exhaustiveFacetsCount},eY(i.disjunctiveFacets[h],n.facets_stats,t)),d&&(h=s[t],i.facets[h]={name:t,data:r,exhaustive:n.exhaustiveFacetsCount},eY(i.facets[h],n.facets_stats,t))}}),this.hierarchicalFacets=eU(this.hierarchicalFacets),a.forEach(function(r){var o=t[u],a=o&&o.facets?o.facets:{},s=e.getHierarchicalFacetByName(r);Object.keys(a).forEach(function(t){var r,u=a[t];if(s){r=eQ(e.hierarchicalFacets,function(e){return e.name===s.name});var l=eQ(i.hierarchicalFacets[r],function(e){return e.attribute===t});if(-1===l)return;i.hierarchicalFacets[r][l].data=ev({},i.hierarchicalFacets[r][l].data,u)}else{r=c[t];var f=n.facets&&n.facets[t]||{};i.disjunctiveFacets[r]={name:t,data:eT({},u,f),exhaustive:o.exhaustiveFacetsCount},eY(i.disjunctiveFacets[r],o.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach(function(n){!i.disjunctiveFacets[r].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf(eB(n))>-1&&(i.disjunctiveFacets[r].data[n]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(r){var n=e.getHierarchicalFacetByName(r),o=e._getHierarchicalFacetSeparator(n),a=e.getHierarchicalRefinement(r);0===a.length||a[0].split(o).length<2||t.slice(u).forEach(function(t){var r=t&&t.facets?t.facets:{};Object.keys(r).forEach(function(t){var s=r[t],c=eQ(e.hierarchicalFacets,function(e){return e.name===n.name}),u=eQ(i.hierarchicalFacets[c],function(e){return e.attribute===t});if(-1!==u){var l={};if(a.length>0&&!i.persistHierarchicalRootCount){var f=a[0].split(o)[0];l[f]=i.hierarchicalFacets[c][u].data[f]}i.hierarchicalFacets[c][u].data=eT(l,s,i.hierarchicalFacets[c][u].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(t){var r=e.facetsExcludes[t],o=s[t];i.facets[o]={name:t,data:l[t],exhaustive:n.exhaustiveFacetsCount},r.forEach(function(e){i.facets[o]=i.facets[o]||{name:t},i.facets[o].data=i.facets[o].data||{},i.facets[o].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(eV(e)),this.facets=eU(this.facets),this.disjunctiveFacets=eU(this.disjunctiveFacets),this._state=e}function eX(e,t){var r=eN(e,function(e){return e.name===t});return r&&r.stats}function eZ(e,t,r,n,i){var o=eN(i,function(e){return e.name===r}),a=o&&o.data&&o.data[n]?o.data[n]:0;return{type:t,attributeName:r,name:n,count:a,exhaustive:o&&o.exhaustive||!1}}eG.prototype.getFacetByName=function(e){function t(t){return t.name===e}return eN(this.facets,t)||eN(this.disjunctiveFacets,t)||eN(this.hierarchicalFacets,t)},eG.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],eG.prototype.getFacetValues=function(e,t){var r,n=function(e,t){function r(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var n=eN(e.facets,r);return n?Object.keys(n.data).map(function(r){var i=eq(r);return{name:r,escapedValue:i,count:n.data[r],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,r)}}):[]}if(e._state.isDisjunctiveFacet(t)){var i=eN(e.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(r){var n=eq(r);return{name:r,escapedValue:n,count:i.data[r],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}}):[]}if(e._state.isHierarchicalFacet(t)){var o=eN(e.hierarchicalFacets,r);if(!o)return o;var a=e._state.getHierarchicalFacetByName(t),s=e._state._getHierarchicalFacetSeparator(a),c=eB(e._state.getHierarchicalRefinement(t)[0]||"");0===c.indexOf(a.rootPath)&&(c=c.replace(a.rootPath+s,""));var u=c.split(s);return u.unshift(t),function e(t,r,n){t.isRefined=t.name===(r[n]&&r[n].trim()),t.data&&t.data.forEach(function(t){e(t,r,n+1)})}(o,u,0),o}}(this,e);if(n){var i=eT({},t,{sortBy:eG.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),o=this;return r=Array.isArray(n)?[e]:o._state.getHierarchicalFacetByName(n.name).attributes,function e(t,r,n,i){if(i=i||0,Array.isArray(r))return t(r,n[i]);if(!r.data||0===r.data.length)return r;var o=r.data.map(function(r){return e(t,r,n,i+1)}),a=t(o,n[i]);return eT({data:a},r)}(function(e,t){if(i.facetOrdering){var r,n,a,s,c,u,l,f=o.renderingContent&&o.renderingContent.facetOrdering&&o.renderingContent.facetOrdering.values&&o.renderingContent.facetOrdering.values[t];if(f)return a=[],s=[],c=f.hide||[],u=(f.order||[]).reduce(function(e,t,r){return e[t]=r,e},{}),e.forEach(function(e){var t=e.path||e.name,r=c.indexOf(t)>-1;r||void 0===u[t]?r||s.push(e):a[u[t]]=e}),a=a.filter(function(e){return e}),"hidden"===(l=f.sortRemainingBy)?a:(n="alpha"===l?[["path","name"],["asc","asc"]]:[["count"],["desc"]],a.concat(e$(s,n[0],n[1])))}if(Array.isArray(i.sortBy)){var h=eW(i.sortBy,eG.DEFAULT_SORT);return e$(e,h[0],h[1])}if("function"==typeof i.sortBy)return r=i.sortBy,e.sort(r);throw Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,r)}},eG.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?eX(this.facets,e):this._state.isDisjunctiveFacet(e)?eX(this.disjunctiveFacets,e):void 0},eG.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach(function(n){e.facetsRefinements[n].forEach(function(i){r.push(eZ(e,"facet",n,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(n){e.facetsExcludes[n].forEach(function(i){r.push(eZ(e,"exclude",n,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(n){e.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(eZ(e,"disjunctive",n,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(n){e.hierarchicalFacetsRefinements[n].forEach(function(i){var o,a,s,c,u,l,f,h;r.push((o=t.hierarchicalFacets,a=e.getHierarchicalFacetByName(n),s=e._getHierarchicalFacetSeparator(a),c=i.split(s),u=eN(o,function(e){return e.name===n}),f=(l=c.reduce(function(e,t){var r=e&&eN(e.data,function(e){return e.name===t});return void 0!==r?r:e},u))&&l.count||0,h=l&&l.exhaustive||!1,{type:"hierarchical",attributeName:n,name:l&&l.path||"",count:f,exhaustive:h}))})}),Object.keys(e.numericRefinements).forEach(function(t){var n=e.numericRefinements[t];Object.keys(n).forEach(function(e){n[e].forEach(function(n){r.push({type:"numeric",attributeName:t,name:n,numericValue:n,operator:e})})})}),e.tagRefinements.forEach(function(e){r.push({type:"tag",attributeName:"_tags",name:e})}),r},eM=eG;var e0={},e1={};e1=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},e0=function(e){var t,r,n={};return e.forEach(function(e){e.forEach(function(e,t){n[e.objectID]?n[e.objectID]={indexSum:n[e.objectID].indexSum+t,count:n[e.objectID].count+1}:n[e.objectID]={indexSum:t,count:1}})}),(t=e.length,r=[],Object.keys(n).forEach(function(e){n[e].count<2&&(n[e].indexSum+=100),r.push({objectID:e,avgOfIndices:n[e].indexSum/t})}),r.sort(function(e,t){return e.avgOfIndices>t.avgOfIndices?1:-1})).reduce(function(t,r){var n=eN(e1(e),function(e){return e.objectID===r.objectID});return n?t.concat(n):t},[])};var e2=h("4kbyH");function e3(e,t,r,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+e2+")"),this.setClient(e);var i=r||{};i.index=t,this.state=eF.make(i),this.recommendState=new ej({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}function e8(e){if(e<0)throw Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function e6(){return this.state.page}function e4(e,t,r,n){return new eh(e,t,r,n)}function e9(){}function e7(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r}function e5(e){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==e5(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e5(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e5(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||tn(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){if(e){if("string"==typeof e)return ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ti(e,t)}}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}ed(e3,es),e3.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},e3.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},e3.prototype.recommend=function(){return this._recommend(),this},e3.prototype.getQuery=function(){var e=this.state;return eR._getHitsSearchParams(e)},e3.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=eR._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),t){this.client.search(n).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new eM(r,e.results),r)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,r)});return}return this.client.search(n).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new eM(r,e.results),state:r,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e})},e3.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=ev({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:eS(eR._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw Error(o);var a=this.client.initIndex(n.index);if("function"!=typeof a.findAnswers)throw Error(o);return a.findAnswers(n.query,e.queryLanguages,i)},e3.prototype.searchForFacetValues=function(e,t,r,n){var i,o="function"==typeof this.client.searchForFacetValues,a="function"==typeof this.client.initIndex;if(!o&&!a&&"function"!=typeof this.client.search)throw Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),c=s.isDisjunctiveFacet(e),u=eR.getSearchForFacetQuery(e,t,r,s);this._currentNbQueries++;var l=this;return o?i=this.client.searchForFacetValues([{indexName:s.index,params:u}]):a?i=this.client.initIndex(s.index).searchForFacetValues(u):(delete u.facetName,i=this.client.search([{type:"facet",facet:e,indexName:s.index,params:u}]).then(function(e){return e.results[0]})),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),i.then(function(t){return l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach(function(t){t.escapedValue=ey(t.value),t.isRefined=c?s.isDisjunctiveFacetRefined(e,t.escapedValue):s.isFacetRefined(e,t.escapedValue)}),t},function(e){throw l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),e})},e3.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},e3.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},e3.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},e3.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},e3.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},e3.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},e3.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},e3.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},e3.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},e3.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},e3.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},e3.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},e3.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this},e3.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this},e3.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this},e3.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this},e3.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this},e3.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},e3.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},e3.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},e3.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},e3.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},e3.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},e3.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},e3.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},e3.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},e3.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},e3.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},e3.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},e3.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},e3.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},e3.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},e3.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},e3.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},e3.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},e3.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},e3.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},e3.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},e3.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},e3.prototype.setCurrentPage=e8,e3.prototype.setPage=e8,e3.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},e3.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},e3.prototype.setState=function(e){return this._change({state:eF.make(e),isPageReset:!1}),this},e3.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new eF(e),this},e3.prototype.hasRefinements=function(e){return!!eO(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},e3.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},e3.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},e3.prototype.hasTag=function(e){return this.state.isTagRefined(e)},e3.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},e3.prototype.getIndex=function(){return this.state.index},e3.prototype.getCurrentPage=e6,e3.prototype.getPage=e6,e3.prototype.getTags=function(){return this.state.tagRefinements},e3.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){t.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"disjunctive"})});var r=this.state.getNumericRefinements(e);return Object.keys(r).forEach(function(e){var n=r[e];t.push({value:n,operator:e,type:"numeric"})}),t},e3.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},e3.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},e3.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=eR._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(e){var n=e.getModifiedState(t),i=n.index?eR._getQueries(n.index,n):[];return r.push({state:n,queriesCount:i.length,helper:e}),e.emit("search",{state:n,results:e.lastResults}),i}),o=Array.prototype.concat.apply(n,i),a=this._queryId++;if(this._currentNbQueries++,!o.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,r,a));try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,r,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",{error:e})}},e3.prototype._recommend=function(){var e=this.state,t=this.recommendState,r=this.getIndex(),n=[{state:t,index:r,helper:this}],i=t.params.map(function(e){return e.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var o=this._recommendCache,a=this.derivedHelpers.map(function(t){var r=t.getModifiedState(e).index;if(!r)return[];var a=t.getModifiedRecommendState(new ej);return n.push({state:a,index:r,helper:t}),i=Array.prototype.concat.apply(i,a.params.map(function(e){return e.$$id})),t.emit("fetch",{recommend:{state:a,results:t.lastRecommendResults}}),a._buildQueries(r,o)}),s=Array.prototype.concat.apply(this.recommendState._buildQueries(r,o),a);if(0!==s.length){if(s.length>0&&void 0===this.client.getRecommendations){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(s).then(this._dispatchRecommendResponse.bind(this,c,n,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(e){this.emit("error",{error:e})}}},e3.prototype._dispatchAlgoliaResponse=function(e,t,r){var n=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var i=r.results.slice();e.forEach(function(e){var t=e.state,r=e.queriesCount,o=e.helper,a=i.splice(0,r);if(!t.index){o.emit("result",{results:null,state:t});return}o.lastResults=new eM(t,a,n._searchResultsOptions),o.emit("result",{results:o.lastResults,state:t})})}},e3.prototype._dispatchRecommendResponse=function(e,t,r,n){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty");var i=this._recommendCache,o={};r.filter(function(e){return void 0===i[e]}).forEach(function(e,t){o[e]||(o[e]=[]),o[e].push(t)}),Object.keys(o).forEach(function(e){var t=o[e],r=n.results[t[0]];if(1===t.length){i[e]=r;return}i[e]=Object.assign({},r,{hits:e0(t.map(function(e){return n.results[e].hits}))})});var a={};r.forEach(function(e){a[e]=i[e]}),t.forEach(function(e){var t=e.state,r=e.helper;if(!e.index){r.emit("recommend:result",{results:null,state:t});return}r.lastRecommendResults=new ew(t,a),r.emit("recommend:result",{recommend:{results:r.lastRecommendResults,state:t}})})}},e3.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},e3.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"))},e3.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},e3.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},e3.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))},e3.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},e3.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},e3.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+e2+")"),this.client=e),this},e3.prototype.getClient=function(){return this.client},e3.prototype.derive=function(e,t){var r=new ep(this,e,t);return this.derivedHelpers.push(r),r},e3.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},e3.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},eh=e3,e4.version=h("4kbyH"),e4.AlgoliaSearchHelper=eh,e4.SearchParameters=eF,e4.RecommendParameters=ej,e4.SearchResults=eM,e4.RecommendResults=ew,ef=e4;var to="2.15.0",ta="https://cdn.jsdelivr.net/npm/search-insights@".concat(to,"/dist/search-insights.min.js");function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.insightsClient,r=e.insightsInitParams,n=e.onEvent,i=e.$$internal,o=void 0!==i&&i,a=e.$$automatic,s=void 0!==a&&a,c=t;t||null===t||et(function(e){var t=e.window,r=t.AlgoliaAnalyticsObject||"aa";"string"==typeof r&&(c=t[r]),c||(t.AlgoliaAnalyticsObject=r,t[r]||(t[r]=function(){t[r].queue||(t[r].queue=[]);for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];t[r].queue.push(n)},t[r].version=to,t[r].shouldAddScript=!0),c=t[r])});var u=c||e9;return function(e){var t,i,a=e.instantSearchInstance,c=a.middleware.filter(function(e){return"ais.insights"===e.instance.$$type&&e.instance.$$internal}).map(function(e){return e.creator});a.unuse.apply(a,function(e){if(Array.isArray(e))return ti(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||tn(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var l=tr(function(e){if(!e.transporter)return[e.applicationID,e.apiKey];var t=e.transporter,r=t.headers||t.baseHeaders,n=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",o="x-algolia-api-key";return[r[i]||n[i],r[o]||n[o]]}(a.client),2),f=l[0],h=l[1],p=void 0,d=void 0,m=void 0,g=void 0,y=u.queue;if(Array.isArray(y)){var v=["setUserToken","setAuthenticatedUserToken"].map(function(e){var t=e7(y.slice().reverse(),function(t){return tr(t,1)[0]===e})||[];return tr(t,2)[1]}),b=tr(v,2);p=b[0],d=b[1]}return u("getUserToken",null,function(e,t){m=tu(t)}),u("getAuthenticatedUserToken",null,function(e,t){g=tu(t)}),(r||!tc(u))&&u("init",tt({appId:f,apiKey:h,partial:!0},r)),{$$type:"ais.insights",$$internal:o,$$automatic:s,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var e="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var t=document.createElement("script");t.async=!0,t.src=ta,t.onerror=function(){a.emit("error",Error(e))},document.body.appendChild(t),u.shouldAddScript=!1}catch(t){u.shouldAddScript=!1,a.emit("error",Error(e))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),t={userToken:(i=a.mainHelper).state.userToken,clickAnalytics:i.state.clickAnalytics},s||i.overrideStateWithoutTriggeringChangeEvent(tt(tt({},i.state),{},{clickAnalytics:!0})),o||a.scheduleSearch();var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=tu(e);if(r){var n=i.state.userToken;t?o():setTimeout(o,0)}function o(){i.overrideStateWithoutTriggeringChangeEvent(tt(tt({},i.state),{},{userToken:r})),n&&n!==e&&a.scheduleSearch()}},r=ee();function c(t,r,n){e(t,!0),r&&u("setUserToken",r),n&&u("setAuthenticatedUserToken",n)}r&&e(r,!0);var l=g||m,y=d||p;l?c(l,m,g):y&&c(y,p,d),u("onUserTokenChange",e,{immediate:!0}),u("onAuthenticatedUserTokenChange",function(t){t||u("getUserToken",null,function(t,r){e(r)}),e(t)},{immediate:!0});var v=u;tc(u)&&(v=function(e,t){return u(e,t,{headers:{"X-Algolia-Application-Id":f,"X-Algolia-API-Key":h}})}),a.sendEventToInsights=function(e){n?n(e,v):e.insightsMethod&&(e.payload.algoliaSource=["instantsearch"],s&&e.payload.algoliaSource.push("instantsearch-automatic"),"internal"===e.eventModifier&&e.payload.algoliaSource.push("instantsearch-internal"),v(e.insightsMethod,e.payload))}},unsubscribe:function(){u("onUserTokenChange",void 0),u("onAuthenticatedUserTokenChange",void 0),a.sendEventToInsights=e9,i&&t&&(i.overrideStateWithoutTriggeringChangeEvent(tt(tt({},i.state),t)),a.scheduleSearch())}}}}function tc(e){var t=tr((e.version||"").split(".").map(Number),2),r=t[0],n=t[1];return r>=3||2===r&&n>=6||1===r&&n>=10}function tu(e){if(e)return"number"==typeof e?e.toString():e}function tl(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function tf(e,t,r){var n=t.getResultsForWidget(r),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:n,scopedResults:t.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}var th={},tp={},td={},tm={},tg=String.prototype.replace,ty=/%20/g,tv="RFC3986";tm={default:tv,formatters:{RFC1738:function(e){return tg.call(e,ty,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:tv};var tb=Object.prototype.hasOwnProperty,tO=Array.isArray,tS=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),tj=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(tO(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}},tP=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};td={arrayToObject:tP,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],u=o[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:c}),r.push(u))}return tj(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var a="",s=0;s<o.length;++s){var c=o.charCodeAt(s);if(45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===tm.RFC1738&&(40===c||41===c)){a+=o.charAt(s);continue}if(c<128){a+=tS[c];continue}if(c<2048){a+=tS[192|c>>6]+tS[128|63&c];continue}if(c<55296||c>=57344){a+=tS[224|c>>12]+tS[128|c>>6&63]+tS[128|63&c];continue}s+=1,a+=tS[240|(c=65536+((1023&c)<<10|1023&o.charCodeAt(s)))>>18]+tS[128|c>>12&63]+tS[128|c>>6&63]+tS[128|63&c]}return a},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(tO(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(tO(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!tb.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return(tO(t)&&!tO(r)&&(i=tP(t,n)),tO(t)&&tO(r))?(r.forEach(function(r,i){if(tb.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var o=r[i];return tb.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t},i)}};var tw=Object.prototype.hasOwnProperty,t_={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},tR=Array.isArray,tx=String.prototype.split,tE=Array.prototype.push,tF=function(e,t){tE.apply(e,tR(t)?t:[t])},tT=Date.prototype.toISOString,tN=tm.default,tI={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:td.encode,encodeValuesOnly:!1,format:tN,formatter:tm.formatters[tN],indices:!1,serializeDate:function(e){return tT.call(e)},skipNulls:!1,strictNullHandling:!1},tk=function e(t,r,n,i,o,a,s,c,u,l,f,h,p,d){var m,g,y=t;if("function"==typeof s?y=s(r,y):y instanceof Date?y=l(y):"comma"===n&&tR(y)&&(y=td.maybeMap(y,function(e){return e instanceof Date?l(e):e})),null===y){if(i)return a&&!p?a(r,tI.encoder,d,"key",f):r;y=""}if("string"==typeof(m=y)||"number"==typeof m||"boolean"==typeof m||"symbol"==typeof m||"bigint"==typeof m||td.isBuffer(y)){if(a){var v=p?r:a(r,tI.encoder,d,"key",f);if("comma"===n&&p){for(var b=tx.call(String(y),","),O="",S=0;S<b.length;++S)O+=(0===S?"":",")+h(a(b[S],tI.encoder,d,"value",f));return[h(v)+"="+O]}return[h(v)+"="+h(a(y,tI.encoder,d,"value",f))]}return[h(r)+"="+h(String(y))]}var j=[];if(void 0===y)return j;if("comma"===n&&tR(y))g=[{value:y.length>0?y.join(",")||null:void 0}];else if(tR(s))g=s;else{var P=Object.keys(y);g=c?P.sort(c):P}for(var w=0;w<g.length;++w){var _=g[w],R="object"==typeof _&&void 0!==_.value?_.value:y[_];o&&null===R||tF(j,e(R,tR(y)?"function"==typeof n?n(r,_):r:r+(u?"."+_:"["+_+"]"),n,i,o,a,s,c,u,l,f,h,p,d))}return j},tC=function(e){if(!e)return tI;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t=e.charset||tI.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=tm.default;if(void 0!==e.format){if(!tw.call(tm.formatters,e.format))throw TypeError("Unknown format option provided.");r=e.format}var n=tm.formatters[r],i=tI.filter;return("function"==typeof e.filter||tR(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:tI.addQueryPrefix,allowDots:void 0===e.allowDots?tI.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:tI.charsetSentinel,delimiter:void 0===e.delimiter?tI.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:tI.encode,encoder:"function"==typeof e.encoder?e.encoder:tI.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:tI.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:tI.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:tI.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:tI.strictNullHandling}};tp=function(e,t){var r,n,i=e,o=tC(t);"function"==typeof o.filter?i=(0,o.filter)("",i):tR(o.filter)&&(r=o.filter);var a=[];if("object"!=typeof i||null===i)return"";n=t&&t.arrayFormat in t_?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=t_[n];r||(r=Object.keys(i)),o.sort&&r.sort(o.sort);for(var c=0;c<r.length;++c){var u=r[c];o.skipNulls&&null===i[u]||tF(a,tk(i[u],u,s,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset))}var l=a.join(o.delimiter),f=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),l.length>0?f+l:""};var tA=Object.prototype.hasOwnProperty,tD=Array.isArray,tH={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:td.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},tL=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},tM=function(e,t){var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,i),a=-1,s=t.charset;if(t.charsetSentinel)for(c=0;c<o.length;++c)0===o[c].indexOf("utf8=")&&("utf8=%E2%9C%93"===o[c]?s="utf-8":"utf8=%26%2310003%3B"===o[c]&&(s="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var c,u,l,f=o[c],h=f.indexOf("]="),p=-1===h?f.indexOf("="):h+1;-1===p?(u=t.decoder(f,tH.decoder,s,"key"),l=t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,p),tH.decoder,s,"key"),l=td.maybeMap(tL(f.slice(p+1),t),function(e){return t.decoder(e,tH.decoder,s,"value")})),l&&t.interpretNumericEntities&&"iso-8859-1"===s&&(l=l.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),f.indexOf("[]=")>-1&&(l=tD(l)?[l]:l),tA.call(r,u)?r[u]=td.combine(r[u],l):r[u]=l}return r},tU=function(e,t,r,n){for(var i=n?t:tL(t,r),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);r.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i},tQ=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,c=[];if(s){if(!r.plainObjects&&tA.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var u=0;r.depth>0&&null!==(a=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&tA.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),tU(c,t,r,n)}},tW=function(e){if(!e)return tH;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?tH.charset:e.charset;return{allowDots:void 0===e.allowDots?tH.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:tH.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:tH.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:tH.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:tH.comma,decoder:"function"==typeof e.decoder?e.decoder:tH.decoder,delimiter:"string"==typeof e.delimiter||td.isRegExp(e.delimiter)?e.delimiter:tH.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:tH.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:tH.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:tH.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:tH.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:tH.strictNullHandling}};function t$(e){return(t$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tq(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=function(e,t){if("object"!==t$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t$(t)?t:String(t)}th={formats:tm,parse:function(e,t){var r=tW(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?tM(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a){var s=o[a],c=tQ(s,n[s],r,"string"==typeof e);i=td.merge(i,c,r)}return td.compact(i)},stringify:tp};var tV=function(e){e&&(window.document.title=e)},tK=function(){var t;function r(e){var t=this,n=e.windowTitle,i=e.writeDelay,o=e.createURL,a=e.parseURL,s=e.getLocation,c=e.start,u=e.dispose,l=e.push,f=e.cleanUrlOnDispose;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),tq(this,"$$type","ais.browser"),tq(this,"windowTitle",void 0),tq(this,"writeDelay",void 0),tq(this,"_createURL",void 0),tq(this,"parseURL",void 0),tq(this,"getLocation",void 0),tq(this,"writeTimer",void 0),tq(this,"_onPopState",void 0),tq(this,"inPopState",!1),tq(this,"isDisposed",!1),tq(this,"latestAcknowledgedHistory",0),tq(this,"_start",void 0),tq(this,"_dispose",void 0),tq(this,"_push",void 0),tq(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=void 0===i?400:i,this._createURL=o,this.parseURL=a,this.getLocation=s,this._start=c,this._dispose=u,this._push=l,this._cleanUrlOnDispose=void 0===f||f,et(function(e){var r=e.window;tV(t.windowTitle&&t.windowTitle(t.read())),t.latestAcknowledgedHistory=r.history.length})}return t=[{key:"read",value:function(){return this.parseURL({qsModule:e(th),location:this.getLocation()})}},{key:"write",value:function(e){var t=this;et(function(r){var n=r.window,i=t.createURL(e),o=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout(function(){tV(o),t.shouldWrite(i)&&(t._push?t._push(i):n.history.pushState(e,o||"",i),t.latestAcknowledgedHistory=n.history.length),t.inPopState=!1,t.writeTimer=void 0},t.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start(function(){e(t.read())}),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},et(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(t){return this._createURL({qsModule:e(th),routeState:t,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this._dispose&&this._dispose(),this.isDisposed=!0,et(function(t){var r=t.window;e._onPopState&&r.removeEventListener("popstate",e._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(e){var t=this;return et(function(r){var n=r.window,i=!(t.isDisposed&&t.latestAcknowledgedHistory!==n.history.length);return!t.inPopState&&i&&e!==n.location.href})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tB(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function tJ(e){return(tJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tz=["configure"];function tY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tY(Object(r),!0).forEach(function(t){tX(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tX(e,t,r){var n;return(n=function(e,t){if("object"!==tJ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tJ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===tJ(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){return e.configure,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,tz)}function t0(e){return(t0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(t){t3(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t3(e,t,r){var n;return(n=function(e,t){if("object"!==t0(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t0(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===t0(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var t8=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,r=void 0===t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,r=void 0===t?function(e){var t=e.qsModule,r=e.routeState,n=e.location,i=n.protocol,o=n.hostname,a=n.port,s=void 0===a?"":a,c=n.pathname,u=n.hash,l=t.stringify(r),f=""===s?"":":".concat(s);return l?"".concat(i,"//").concat(o).concat(f).concat(c,"?").concat(l).concat(u):"".concat(i,"//").concat(o).concat(f).concat(c).concat(u)}:t,n=e.parseURL,i=void 0===n?function(e){var t=e.qsModule,r=e.location;return t.parse(r.search.slice(1),{arrayLimit:99})}:n,o=e.writeDelay,a=e.windowTitle,s=e.getLocation;return new tK({createURL:r,parseURL:i,writeDelay:void 0===o?400:o,windowTitle:a,getLocation:void 0===s?function(){return et(function(e){return e.window.location},{fallback:function(){throw Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:s,start:e.start,dispose:e.dispose,push:e.push,cleanUrlOnDispose:e.cleanUrlOnDispose})}():t,n=e.stateMapping,i=void 0===n?{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(t,r){return tG(tG({},t),{},tX({},r,tZ(e[r])))},{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,r){return tG(tG({},t),{},tX({},r,tZ(e[r])))},{})}}:n,o=e.$$internal,a=void 0!==o&&o;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var n=0===t.mainIndex.getWidgets().length?t._initialUiState:t.mainIndex.getWidgetUiState({}),o=Object.keys(e).reduce(function(t,r){return t2(t2({},t),{},t3({},r,e[r]))},n),a=i.stateToRoute(o);return r.createURL(a)};var n=void 0,o=t._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(i.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(e){var t=e.uiState,o=i.stateToRoute(t);void 0!==n&&en(n,o)||(r.write(o),n=o)},subscribe:function(){t._initialUiState=t2(t2({},o),i.routeToState(r.read())),r.onUpdate(function(e){t.mainIndex.getWidgets().length>0&&t.setUiState(i.routeToState(e))})},started:function(){var e;null===(e=r.start)||void 0===e||e.call(r)},unsubscribe:function(){r.dispose()}}}};function t6(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){var t;return["https://www.algolia.com/doc/api-reference/widgets/",e.name,"/js/",void 0!==(t=e.connector)&&t?"#connector":""].join("")}).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}}function t4(e){return"ais.index"===e.$$type}function t9(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function t7(e){return(t7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t5=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==t7(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t7(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t7(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rr=function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,t5);return e.setQueryParameters(r)},rn=function(e,t){var r=t9([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return r.length>0?e.setQueryParameters({ruleContexts:r}):e},ri=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){var r,n,i,o,a,s,c,u;return rr((u=rn((n=(r=e.setQueryParameters({hierarchicalFacetsRefinements:rt(rt({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})).setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var r=function(e,t){if(!Array.isArray(e))return -1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return -1}(e,function(e){return e.name===t.name});if(-1===r)return e.concat(t);var n=e.slice();return n.splice(r,1,t),n},r.hierarchicalFacets)}),c=(s=(a=(o=(i=t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},n)).setQueryParameters({numericRefinements:rt(rt({},i.numericRefinements),t.numericRefinements)})).setQueryParameters({disjunctiveFacetsRefinements:rt(rt({},o.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})).setQueryParameters({facetsExcludes:rt(rt({},a.facetsExcludes),t.facetsExcludes)})).setQueryParameters({facetsRefinements:rt(rt({},s.facetsRefinements),t.facetsRefinements)}),t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},c)),t),t.facets.reduce(function(e,t){return e.addFacet(t)},u)),t)})},ro=0;function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rs=["initialSearchParameters"],rc=["initialRecommendParameters"];function ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(r),!0).forEach(function(t){rf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ru(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rf(e,t,r){var n;return(n=function(e,t){if("object"!==ra(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ra(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===ra(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rh(e){return function(e){if(Array.isArray(e))return rp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rp(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rp(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rm=t6({name:"index-widget"});function rg(e,t){var r=t.state,n=t.recommendState,i=t.isPageReset,o=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:o})),n!==e.recommendState&&(e.recommendState=n)}function ry(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,r){return!t4(r)&&(r.getWidgetUiState||r.getWidgetState)?r.getWidgetUiState?r.getWidgetUiState(e,t):r.getWidgetState(e,t):e},r)}function rv(e,t){var r=t.initialSearchParameters,n=rd(t,rs);return e.reduce(function(e,t){return!t.getWidgetSearchParameters||t4(t)?e:"search"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,n):t.getWidgetSearchParameters(e,n)},r)}function rb(e,t){var r=t.initialRecommendParameters,n=rd(t,rc);return e.reduce(function(e,t){return!t4(t)&&"recommend"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,n):e},r)}var rO=function(t){if(void 0===t||void 0===t.indexName)throw Error(rm("The `indexName` option is required."));var r=t.indexName,n=t.indexId,i=void 0===n?r:n,o=[],a={},s=null,c=null,u=null,l=null,f=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var e;return null!==(e=l)&&void 0!==e&&e.lastResults?(l.lastResults._state=u.state,l.lastResults):null},getResultsForWidget:function(e){var t;return"recommend"!==e.dependsOn||t4(e)||void 0===e.$$id?this.getResults():null!==(t=u)&&void 0!==t&&t.lastRecommendResults?u.lastRecommendResults[e.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var e=this.getParent();return function e(t){return t.filter(t4).reduce(function(t,r){return t.concat.apply(t,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(rh(e(r.getWidgets()))))},[])}(e?e.getWidgets():0===r.length?this.getWidgets():[this])},getParent:function(){return c},createURL:function(e){return"function"==typeof e?s._createURL(rf({},i,e(a))):s._createURL(rf({},i,ry(o,{searchParameters:e,helper:u})))},getWidgets:function(){return o},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw Error(rm("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw Error(rm("The widget definition expects a `render` and/or an `init` method."));return e.forEach(function(e){!t4(e)&&(s&&"recommend"===e.dependsOn?s._hasRecommendWidget=!0:s?s._hasSearchWidget=!0:"recommend"===e.dependsOn?h=!0:p=!0,"recommend"===e.dependsOn&&(e.$$id=ro++))}),o=o.concat(e),s&&e.length&&(rg(u,{state:rv(o,{uiState:a,initialSearchParameters:u.state}),recommendState:rb(o,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),e.forEach(function(e){e.getRenderState&&rS({renderState:e.getRenderState(s.renderState[t.getIndexId()]||{},tl(s,t,s._initialUiState)),instantSearchInstance:s,parent:t})}),e.forEach(function(e){e.init&&e.init(tl(s,t,s._initialUiState))}),s.scheduleSearch()),this},removeWidgets:function(t){var r=this;if(!Array.isArray(t))throw Error(rm("The `removeWidgets` method expects an array of widgets."));if(t.some(function(e){return"function"!=typeof e.dispose}))throw Error(rm("The widget definition expects a `dispose` method."));if((o=o.filter(function(e){return -1===t.indexOf(e)})).forEach(function(e){t4(e)||(s&&"recommend"===e.dependsOn?s._hasRecommendWidget=!0:s?s._hasSearchWidget=!0:"recommend"===e.dependsOn?h=!0:p=!0)}),s&&t.length){var n=t.reduce(function(t,n){var i=n.dispose({helper:u,state:t.cleanedSearchState,recommendState:t.cleanedRecommendState,parent:r});return i instanceof e(ef).RecommendParameters?t.cleanedRecommendState=i:i&&(t.cleanedSearchState=i),t},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),i=n.cleanedSearchState,c=n.cleanedRecommendState,l=s.future.preserveSharedStateOnUnmount?rv(o,{uiState:a,initialSearchParameters:new(e(ef)).SearchParameters({index:this.getIndexName()})}):rv(o,{uiState:ry(o,{searchParameters:i,helper:u}),initialSearchParameters:i});a=ry(o,{searchParameters:l,helper:u}),u.setState(l),u.recommendState=c,o.length&&s.scheduleSearch()}return this},init:function(t){var n,d=this,m=t.instantSearchInstance,g=t.parent,y=t.uiState;if(null===u){s=m,c=g,a=y[i]||{};var v=m.mainHelper,b=rv(o,{uiState:a,initialSearchParameters:new(e(ef)).SearchParameters({index:r})}),O=rb(o,{uiState:a,initialRecommendParameters:new(e(ef)).RecommendParameters});(u=e(ef)({},b.index,b)).recommendState=O,u.search=function(){return m.onStateChange?(m.onStateChange({uiState:m.mainIndex.getWidgetUiState({}),setUiState:function(e){return m.setUiState(e,!1)}}),v):v.search()},u.searchWithoutTriggeringOnStateChange=function(){return v.search()},u.searchForFacetValues=function(e,t,r,n){var i=u.state.setQueryParameters(n);return v.searchForFacetValues(e,t,r,i)},l=v.derive(function(){return ri.apply(void 0,[v.state].concat(rh(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(d))))},function(){return d.getHelper().recommendState});var S=null===(n=m._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(null!=S&&S.results){var j=new(e(ef)).SearchResults(new(e(ef)).SearchParameters(S.state),S.results);l.lastResults=j,u.lastResults=j}if(null!=S&&S.recommendResults){var P=new(e(ef)).RecommendResults(new(e(ef)).RecommendParameters({params:S.recommendResults.params}),S.recommendResults.results);l.lastRecommendResults=P,u.lastRecommendResults=P}u.on("change",function(e){e.isPageReset&&function e(t){var r=t.filter(t4);0!==r.length&&r.forEach(function(t){var r=t.getHelper();rg(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),e(t.getWidgets())})}(o)}),l.on("search",function(){m.scheduleStalledRender()}),l.on("result",function(e){var t=e.results;m.scheduleRender(),u.lastResults=t,f=null==t?void 0:t._state}),l.on("recommend:result",function(e){var t=e.recommend;m.scheduleRender(),u.lastRecommendResults=t.results}),o.forEach(function(e){e.getRenderState&&rS({renderState:e.getRenderState(m.renderState[d.getIndexId()]||{},tl(m,d,y)),instantSearchInstance:m,parent:d})}),o.forEach(function(e){e.init&&e.init(tl(m,d,y))}),u.on("change",function(e){var t=e.state,r=e._uiState;a=ry(o,{searchParameters:t,helper:u},r||{}),m.onStateChange||m.onInternalStateChange()}),S&&m.scheduleRender(),h&&(m._hasRecommendWidget=!0),p&&(m._hasSearchWidget=!0)}},render:function(e){var t,r=this,n=e.instantSearchInstance;"error"===n.status&&!n.mainHelper.hasPendingRequests()&&f&&u.setState(f);var i=this.getResults()||null!==(t=l)&&void 0!==t&&t.lastRecommendResults?o:o.filter(t4);(i=i.filter(function(e){return!e.shouldRender||e.shouldRender({instantSearchInstance:n})})).forEach(function(e){e.getRenderState&&rS({renderState:e.getRenderState(n.renderState[r.getIndexId()]||{},tf(n,r,e)),instantSearchInstance:n,parent:r})}),i.forEach(function(e){e.render&&e.render(tf(n,r,e))})},dispose:function(){var e,t,r=this;o.forEach(function(e){e.dispose&&u&&e.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:r})}),s=null,c=null,null===(e=u)||void 0===e||e.removeAllListeners(),u=null,null===(t=l)||void 0===t||t.detach(),l=null},getWidgetUiState:function(e){return o.filter(t4).reduce(function(e,t){return t.getWidgetUiState(e)},rl(rl({},e),{},rf({},i,rl(rl({},e[i]),a))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var r=t.uiState;return rv(o,{uiState:r,initialSearchParameters:e})},refreshUiState:function(){a=ry(o,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(e){var t="function"==typeof e?e(a):e;s.setUiState(function(e){return rl(rl({},e),{},rf({},i,t))})}}};function rS(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=rl(rl({},r.renderState),{},rf({},i,rl(rl({},r.renderState[i]),t)))}function rj(e,t){return e.toLocaleString(t)}function rP(e){return(rP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==rP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rP(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rP(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rR=Promise.resolve();function rx(e){var t=null,r=!1,n=function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];null===t&&(t=rR.then(function(){if(t=null,r){r=!1;return}e.apply(void 0,i)}))};return n.wait=function(){if(null===t)throw Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){null!==t&&(r=!0)},n}function rE(e){return(rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(t){rI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rI(e,t,r){var n;return(n=function(e,t){if("object"!==rE(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rE(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===rE(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rk(e){var t=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[i++])})};return Object.keys(e).map(function(r){var n;return t("%s=%s",r,(n=e[r],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n))?JSON.stringify(e[r]):e[r])}).join("&")}function rC(e){return(rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==rC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rC(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rH(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(t4).forEach(function(t){return rH(e,t)})}var rL="4.73.2";function rM(e){return(rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rU(Object(r),!0).forEach(function(t){rB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rW(e,t){return(rW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r$(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(e){return(rq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rB(e,t,r){return(t=rV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=function(e,t){if("object"!==rM(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rM(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rM(t)?t:String(t)}var rK=t6({name:"instantsearch"});function rJ(){return"#"}var rz={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},rY=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rW(e,t)}(o,t);var r,n,i=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=rq(o);return e=r?Reflect.construct(t,arguments,rq(this).constructor):t.apply(this,arguments),function(e,t){if(t&&("object"===rM(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return r$(e)}(this,e)});function o(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),rB(r$(t=i.call(this)),"client",void 0),rB(r$(t),"indexName",void 0),rB(r$(t),"insightsClient",void 0),rB(r$(t),"onStateChange",null),rB(r$(t),"future",void 0),rB(r$(t),"helper",void 0),rB(r$(t),"mainHelper",void 0),rB(r$(t),"mainIndex",void 0),rB(r$(t),"started",void 0),rB(r$(t),"templatesConfig",void 0),rB(r$(t),"renderState",{}),rB(r$(t),"_stalledSearchDelay",void 0),rB(r$(t),"_searchStalledTimer",void 0),rB(r$(t),"_initialUiState",void 0),rB(r$(t),"_initialResults",void 0),rB(r$(t),"_createURL",void 0),rB(r$(t),"_searchFunction",void 0),rB(r$(t),"_mainHelperSearch",void 0),rB(r$(t),"_hasSearchWidget",!1),rB(r$(t),"_hasRecommendWidget",!1),rB(r$(t),"_insights",void 0),rB(r$(t),"middleware",[]),rB(r$(t),"sendEventToInsights",void 0),rB(r$(t),"status","idle"),rB(r$(t),"error",void 0),rB(r$(t),"scheduleSearch",rx(function(){t.started&&t.mainHelper.search()})),rB(r$(t),"scheduleRender",rx(function(){var e,r=!(arguments.length>0)||void 0===arguments[0]||arguments[0];!(null!==(e=t.mainHelper)&&void 0!==e&&e.hasPendingRequests())&&(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,r&&(t.status="idle",t.error=void 0)),t.mainIndex.render({instantSearchInstance:r$(t)}),t.emit("render")})),rB(r$(t),"onInternalStateChange",rx(function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach(function(t){t.instance.onStateChange({uiState:e})})})),t.setMaxListeners(100);var t,r=e.indexName,n=void 0===r?"":r,a=e.numberLocale,s=e.initialUiState,c=e.routing,u=void 0===c?null:c,l=e.insights,f=void 0===l?void 0:l,h=e.searchFunction,p=e.stalledSearchDelay,d=e.searchClient,m=void 0===d?null:d,g=e.insightsClient,y=void 0===g?null:g,v=e.onStateChange,b=e.future,O=void 0===b?rQ(rQ({},rz),e.future||{}):b;if(null===m)throw Error(rK("The `searchClient` option is required."));if("function"!=typeof m.search)throw Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof m.addAlgoliaAgent&&m.addAlgoliaAgent("instantsearch.js (".concat(rL,")")),y&&"function"!=typeof y)throw Error(rK("The `insightsClient` option should be a function."));if(t.client=m,t.future=O,t.insightsClient=y,t.indexName=n,t.helper=null,t.mainHelper=null,t.mainIndex=rO({indexName:n}),t.onStateChange=void 0===v?null:v,t.started=!1,t.templatesConfig={helpers:{formatNumber:function(e,t){return rj(Number(t(e)),a)},highlight:function(e,t){try{var r=JSON.parse(e);return t(A(r_(r_({},r),{},{hit:this})))}catch(e){throw Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{var r=JSON.parse(e);return t(q(r_(r_({},r),{},{hit:this})))}catch(e){throw Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{var r=JSON.parse(e);return t(V(r_(r_({},r),{},{hit:this})))}catch(e){throw Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{var r=JSON.parse(e);return t(J(r_(r_({},r),{},{hit:this})))}catch(e){throw Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(X(n,r_({objectIDs:[this.objectID]},i)))}catch(e){throw Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}},compileOptions:{}},t._stalledSearchDelay=void 0===p?200:p,t._searchStalledTimer=null,t._createURL=rJ,t._initialUiState=void 0===s?{}:s,t._initialResults=null,t._insights=f,h&&(t._searchFunction=h),t.sendEventToInsights=e9,u){var S="boolean"==typeof u?{}:u;S.$$internal=!0,t.use(t8(S))}if(f){var j="boolean"==typeof f?{}:f;j.$$internal=!0,t.use(ts(j))}return et(function(e){var t,r;return(null===(t=e.window.navigator)||void 0===t?void 0:null===(r=t.userAgent)||void 0===r?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})&&t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.$$internal,r=void 0!==t&&t;return function(e){var t=e.instantSearchInstance,n={widgets:[]},i=document.createElement("meta"),o=document.querySelector("head");return i.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;n.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,function e(t,r,n){var i=tl(r,r.mainIndex,r._initialUiState);t.forEach(function(t){var o={};if(t.getWidgetRenderState){var a=t.getWidgetRenderState(i);a&&a.widgetParams&&(o=a.widgetParams)}var s=Object.keys(o).filter(function(e){return void 0!==o[e]});n.widgets.push({type:t.$$type,widgetType:t.$$widgetType,params:s}),"ais.index"===t.$$type&&e(t.getWidgets(),r,n)})}(t.mainIndex.getWidgets(),t,n),t.middleware.forEach(function(e){return n.widgets.push({middleware:!0,type:e.instance.$$type,internal:e.instance.$$internal})}),i.content=JSON.stringify(n),o.appendChild(i)},0)},started:function(){},unsubscribe:function(){i.remove()}}}}({$$internal:!0})),t}return n=[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map(function(t){var r=rQ({$$type:"__unknown__",$$internal:!1,subscribe:e9,started:e9,unsubscribe:e9,onStateChange:e9},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:r}),r});return this.started&&i.forEach(function(e){e.subscribe(),e.started()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw Error(rK("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw Error(rK("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw Error(rK("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw Error(rK("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var t=this;if(this.started)throw Error(rK("The `start` method has already been called once."));var r=this.mainHelper||e(ef)(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(r.search=function(){return t.status="loading",t.scheduleRender(!1),t._hasSearchWidget&&r.searchOnlyWithDerivedHelpers(),t._hasRecommendWidget&&r.recommend(),r},this._searchFunction){var n={search:function(){return new Promise(e9)}};this._mainHelperSearch=r.search.bind(r),r.search=function(){var i=t.mainIndex.getHelper(),o=e(ef)(n,i.state.index,i.state);return o.once("search",function(e){var r=e.state;i.overrideStateWithoutTriggeringChangeEvent(r),t._mainHelperSearch()}),o.on("change",function(e){var t=e.state;i.setState(t)}),t._searchFunction(o),r}}if(r.on("error",function(e){var r=e.error;if(!(r instanceof Error)){var n=r;r=Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},Error(n.message))}r.error=r,t.error=r,t.status="error",t.scheduleRender(!1),t.emit("error",r)}),this.mainHelper=r,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){(function(e,t){if(t&&("transporter"in e&&!e._cacheHydrated||e._useCache&&"function"==typeof e.addAlgoliaAgent)){var r=[Object.keys(t).reduce(function(e,r){var n=t[r],i=n.state,o=n.requestParams,a=n.results,s=a&&i?a.map(function(e,t){return rN({indexName:i.index||e.index},null!=o&&o[t]||e.params?{params:rk((null==o?void 0:o[t])||e.params.split("&").reduce(function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=t.split("="))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{for(o=(r=r.call(e)).next;!(c=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(r,2)||function(e,t){if(e){if("string"==typeof e)return rF(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rF(e,2)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1];return e[i]=o?decodeURIComponent(o):"",e},{}))}:{})}):[];return e.concat(s)},[])],n=Object.keys(t).reduce(function(e,r){var n=t[r].results;return n?e.concat(n):e},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search;e.search=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a=t.map(function(e){return rN(rN({},e),{},{params:rk(e.params)})});return e.transporter.responsesCache.get({method:"search",args:[a].concat(n)},function(){return i.apply(void 0,[t].concat(n))})},e.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in e)){var o="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));e.cache=rN(rN({},e.cache),{},rI({},o,JSON.stringify({results:Object.keys(t).map(function(e){return t[e].results})})))}}})(this.client,this._initialResults),i=this.mainHelper,a=Object.keys(o=this._initialResults).reduce(function(e,t){var r=o[t];return r.recommendResults?rD(rD({},e),r.recommendResults.results):e},{}),i._recommendCache=a;var i,o,a,s=this.scheduleSearch;this.scheduleSearch=rx(e9),rx(function(){t.scheduleSearch=s})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(e){e.instance.started()}),void 0===this._insights&&r.derivedHelpers[0].once("result",function(){t.mainIndex.getScopedResults().some(function(e){var t=e.results;return null==t?void 0:t._automaticInsights})&&t.use(ts({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var e;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null===(e=this.mainHelper)||void 0===e||e.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e.status="stalled",e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!this.mainHelper)throw Error(rK("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&r?this.onStateChange({uiState:n,setUiState:function(e){rH("function"==typeof e?e(n):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(rH(n,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw Error(rK("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw Error(rK("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rV(n.key),n)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(e(es)),rG=function(e,t){return e},rX=function(e){return new rY(e)};function rZ(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])},[]).filter(Boolean).join(" ")}rX.version=rL,rX.createInfiniteHitsSessionStorageCache=rG(function(){return{read:function(e){var t=e.state,r=et(function(e){return e.window.sessionStorage});if(!r)return null;try{var n=JSON.parse(r.getItem(ea));return n&&en(n.state,eo(t))?n.hits:null}catch(e){if(e instanceof SyntaxError)try{r.removeItem(ea)}catch(e){}return null}},write:function(e){var t=e.state,r=e.hits,n=et(function(e){return e.window.sessionStorage});if(n)try{n.setItem(ea,JSON.stringify({state:eo(t),hits:r}))}catch(e){}}}},"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/lib/infiniteHitsCache'"),rX.highlight=rG(A,"import { highlight } from 'instantsearch.js/es/helpers'"),rX.reverseHighlight=rG(q,"import { reverseHighlight } from 'instantsearch.js/es/helpers'"),rX.snippet=rG(V,"import { snippet } from 'instantsearch.js/es/helpers'"),rX.reverseSnippet=rG(J,"import { reverseSnippet } from 'instantsearch.js/es/helpers'"),rX.insights=X,rX.getInsightsAnonymousUserToken=function(){return ee()},Object.defineProperty(rX,"widgets",{get:function(){throw ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(rX,"connectors",{get:function(){throw ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var r0,r1,r2,r3,r8,r6,r4,r9,r7,r5,ne={},nt=[],nr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nn=Array.isArray;function ni(e,t){for(var r in t)e[r]=t[r];return e}function no(e){var t=e.parentNode;t&&t.removeChild(e)}function na(e,t,r){var n,i,o,a={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?r0.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return ns(e,a,n,i,null)}function ns(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++r2:i,__i:-1,__u:0};return null==i&&null!=r1.vnode&&r1.vnode(o),o}function nc(){return{current:null}}function nu(e){return e.children}function nl(e,t){this.props=e,this.context=t}function nf(e,t){if(null==t)return e.__?nf(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?nf(e):null}function nh(e){(!e.__d&&(e.__d=!0)&&r3.push(e)&&!np.__r++||r8!==r1.debounceRendering)&&((r8=r1.debounceRendering)||r6)(np)}function np(){var e,t,r,n,i,o,a,s;for(r3.sort(r4);e=r3.shift();)e.__d&&(t=r3.length,n=void 0,o=(i=(r=e).__v).__e,a=[],s=[],r.__P&&((n=ni({},i)).__v=i.__v+1,r1.vnode&&r1.vnode(n),nv(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[o]:null,a,null==o?nf(i):o,!!(32&i.__u),s),n.__v=i.__v,n.__.__k[n.__i]=n,nb(a,n,s),n.__e!=o&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),r3.length>t&&r3.sort(r4));np.__r=0}function nd(e,t,r,n,i,o,a,s,c,u,l){var f,h,p,d,m,g=n&&n.__k||nt,y=t.length;for(r.__d=c,function(e,t,r){var n,i,o,a,s,c=t.length,u=r.length,l=u,f=0;for(e.__k=[],n=0;n<c;n++)a=n+f,null!=(i=e.__k[n]=null==(i=t[n])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?ns(null,i,null,null,null):nn(i)?ns(nu,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?ns(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=function(e,t,r,n){var i=e.key,o=e.type,a=r-1,s=r+1,c=t[r];if(null===c||c&&i==c.key&&o===c.type&&0==(131072&c.__u))return r;if(n>(null!=c&&0==(131072&c.__u)?1:0))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return s;s++}}return -1}(i,r,a,l),i.__i=s,o=null,-1!==s&&(l--,(o=r[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&f--,"function"!=typeof i.type&&(i.__u|=65536)):s!==a&&(s==a-1?f=s-a:s==a+1?f++:s>a?l>c-a?f+=s-a:f--:s<a&&f++,s!==n+f&&(i.__u|=65536))):(o=r[a])&&null==o.key&&o.__e&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=nf(o)),nS(o,o,!1),r[a]=null,l--);if(l)for(n=0;n<u;n++)null!=(o=r[n])&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=nf(o)),nS(o,o))}(r,t,g),c=r.__d,f=0;f<y;f++)null!=(p=r.__k[f])&&"boolean"!=typeof p&&"function"!=typeof p&&(h=-1===p.__i?ne:g[p.__i]||ne,p.__i=f,nv(e,p,h,i,o,a,s,c,u,l),d=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&nO(h.ref,null,p),l.push(p.ref,p.__c||d,p)),null==m&&null!=d&&(m=d),65536&p.__u||h.__k===p.__k?(c&&"string"==typeof p.type&&!e.contains(c)&&(c=nf(h)),c=function e(t,r,n){var i,o;if("function"==typeof t.type){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,r=e(i[o],r,n));return r}t.__e!=r&&(n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType)return r}(p,c,e)):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:d&&(c=d.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=c,r.__e=m}function nm(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||nr.test(t)?r:r+"px"}function ng(e,t,r,n,i){var o;e:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||nm(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||nm(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase() in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=r9,e.addEventListener(t,o?r5:r7,o)):e.removeEventListener(t,o?r5:r7,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function ny(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=r9++;else if(t.t<r.u)return;return r(r1.event?r1.event(t):t)}}}function nv(e,t,r,n,i,o,a,s,c,u){var l,f,h,p,d,m,g,y,v,b,O,S,j,P,w,_,R=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),o=[s=t.__e=r.__e]),(l=r1.__b)&&l(t);e:if("function"==typeof R)try{if(y=t.props,v="prototype"in R&&R.prototype.render,b=(l=R.contextType)&&n[l.__c],O=l?b?b.props.value:l.__:n,r.__c?g=(f=t.__c=r.__c).__=f.__E:(v?t.__c=f=new R(y,O):(t.__c=f=new nl(y,O),f.constructor=R,f.render=nj),b&&b.sub(f),f.props=y,f.state||(f.state={}),f.context=O,f.__n=n,h=f.__d=!0,f.__h=[],f._sb=[]),v&&null==f.__s&&(f.__s=f.state),v&&null!=R.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=ni({},f.__s)),ni(f.__s,R.getDerivedStateFromProps(y,f.__s))),p=f.props,d=f.state,f.__v=t,h)v&&null==R.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),v&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(v&&null==R.getDerivedStateFromProps&&y!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(y,O),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(y,f.__s,O)||t.__v===r.__v)){for(t.__v!==r.__v&&(f.props=y,f.state=f.__s,f.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(y,f.__s,O),v&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(p,d,m)})}if(f.context=O,f.props=y,f.__P=e,f.__e=!1,j=r1.__r,P=0,v){for(f.state=f.__s,f.__d=!1,j&&j(t),l=f.render(f.props,f.state,f.context),w=0;w<f._sb.length;w++)f.__h.push(f._sb[w]);f._sb=[]}else do f.__d=!1,j&&j(t),l=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++P<25)f.state=f.__s,null!=f.getChildContext&&(n=ni(ni({},n),f.getChildContext())),v&&!h&&null!=f.getSnapshotBeforeUpdate&&(m=f.getSnapshotBeforeUpdate(p,d)),nd(e,nn(_=null!=l&&l.type===nu&&null==l.key?l.props.children:l)?_:[_],t,r,n,i,o,a,s,c,u),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),g&&(f.__E=f.__=null)}catch(e){t.__v=null,c||null!=o?(t.__e=s,t.__u|=c?160:32,o[o.indexOf(s)]=null):(t.__e=r.__e,t.__k=r.__k),r1.__e(e,t,r)}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,o,a,s,c){var u,l,f,h,p,d,m,g=r.props,y=t.props,v=t.type;if("svg"===v?i="http://www.w3.org/2000/svg":"math"===v?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=o){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!v&&(v?p.localName===v:3===p.nodeType)){e=p,o[u]=null;break}}if(null==e){if(null===v)return document.createTextNode(y);e=document.createElementNS(i,v,y.is&&y),o=null,s=!1}if(null===v)g===y||s&&e.data===y||(e.data=y);else{if(o=o&&r0.call(e.childNodes),g=r.props||ne,!s&&null!=o)for(g={},u=0;u<e.attributes.length;u++)g[(p=e.attributes[u]).name]=p.value;for(u in g)if(p=g[u],"children"==u);else if("dangerouslySetInnerHTML"==u)f=p;else if("key"!==u&&!(u in y)){if("value"==u&&"defaultValue"in y||"checked"==u&&"defaultChecked"in y)continue;ng(e,u,null,p,i)}for(u in y)p=y[u],"children"==u?h=p:"dangerouslySetInnerHTML"==u?l=p:"value"==u?d=p:"checked"==u?m=p:"key"===u||s&&"function"!=typeof p||g[u]===p||ng(e,u,p,g[u],i);if(l)s||f&&(l.__html===f.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(f&&(e.innerHTML=""),nd(e,nn(h)?h:[h],t,r,n,"foreignObject"===v?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:r.__k&&nf(r,0),s,c),null!=o)for(u=o.length;u--;)null!=o[u]&&no(o[u]);s||(u="value",void 0===d||d===e[u]&&("progress"!==v||d)&&("option"!==v||d===g[u])||ng(e,u,d,g[u],i),u="checked",void 0!==m&&m!==e[u]&&ng(e,u,m,g[u],i))}return e}(r.__e,t,r,n,i,o,a,c,u);(l=r1.diffed)&&l(t)}function nb(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)nO(r[n],r[++n],r[++n]);r1.__c&&r1.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){r1.__e(e,t.__v)}})}function nO(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){r1.__e(e,r)}}function nS(e,t,r){var n,i;if(r1.unmount&&r1.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||nO(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){r1.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&nS(n[i],t,r||"function"!=typeof e.type);r||null==e.__e||no(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function nj(e,t,r){return this.constructor(e,r)}function nP(e,t,r){var n,i,o,a;r1.__&&r1.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,o=[],a=[],nv(t,e=(!n&&r||t).__k=na(nu,null,[e]),i||ne,ne,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?r0.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n,a),nb(o,e,a)}r0=nt.slice,r1={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},r2=0,nl.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ni({},this.state),"function"==typeof e&&(e=e(ni({},r),this.props)),e&&ni(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),nh(this))},nl.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nh(this))},nl.prototype.render=nu,r3=[],r6="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r4=function(e,t){return e.__v.__b-t.__v.__b},np.__r=0,r9=0,r7=ny(!1),r5=ny(!0);var nw={},n_={};!function(e){var t=/\S/,r=/\"/g,n=/\n/g,i=/\r/g,o=/\\/g,a=/\u2028/,s=/\u2029/;function c(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function u(e,t,r){if(t.charAt(r)!=e.charAt(0))return!1;for(var n=1,i=e.length;n<i;n++)if(t.charAt(r+n)!=e.charAt(n))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(r,n){var i,o=r.length,a=0,s=null,l=null,f="",h=[],p=!1,d=0,m=0,g="{{",y="}}";function v(){f.length>0&&(h.push({tag:"_t",text:new String(f)}),f="")}function b(r,n){if(v(),r&&function(){for(var r=!0,n=m;n<h.length;n++)if(!(r=e.tags[h[n].tag]<e.tags._v||"_t"==h[n].tag&&null===h[n].text.match(t)))return!1;return r}())for(var i,o=m;o<h.length;o++)h[o].text&&((i=h[o+1])&&">"==i.tag&&(i.indent=h[o].text.toString()),h.splice(o,1));else n||h.push({tag:"\n"});p=!1,m=h.length}for(n&&(g=(n=n.split(" "))[0],y=n[1]),d=0;d<o;d++)0==a?u(g,r,d)?(--d,v(),a=1):"\n"==r.charAt(d)?b(p):f+=r.charAt(d):1==a?(d+=g.length-1,"="==(s=(l=e.tags[r.charAt(d+1)])?r.charAt(d+1):"_v")?(d=function(e,t){var r="="+y,n=e.indexOf(r,t),i=c(e.substring(e.indexOf("=",t)+1,n)).split(" ");return g=i[0],y=i[i.length-1],n+r.length-1}(r,d),a=0):(l&&d++,a=2),p=d):u(y,r,d)?(h.push({tag:s,n:c(f),otag:g,ctag:y,i:"/"==s?p-g.length:d+y.length}),f="",d+=y.length-1,a=0,"{"==s&&("}}"==y?d++:"}"===(i=h[h.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):f+=r.charAt(d);return b(p,!0),h};var l={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t,r,n){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+function e(t){var r=[];for(var n in t.partials)r.push('"'+h(n)+'":{name:"'+h(t.partials[n].name)+'", '+e(t.partials[n])+"}");return"partials: {"+r.join(",")+"}, subs: "+function(e){var t=[];for(var r in e)t.push('"'+h(r)+'": function(c,p,t,i) {'+e[r]+"}");return"{ "+t.join(",")+" }"}(t.subs)}(t)+"}"};var f=0;function h(e){return e.replace(o,"\\\\").replace(r,'\\"').replace(n,"\\n").replace(i,"\\r").replace(a,"\\u2028").replace(s,"\\u2029")}function p(e){return~e.indexOf(".")?"d":"f"}function d(e,t){var r="<"+(t.prefix||"")+e.n+f++;return t.partials[r]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+h(r)+'",c,p,"'+(e.indent||"")+'"));',r}function m(e,t){t.code+="t.b(t.t(t."+p(e.n)+'("'+h(e.n)+'",c,p,0)));'}function g(e){return"t.b("+e+");"}e.generate=function(t,r,n){f=0;var i={code:"",subs:{},partials:{}};return(e.walk(t,i),n.asString)?this.stringify(i,r,n):this.makeTemplate(i,r,n)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,r){var n=this.makePartials(e);return n.code=Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,r)},e.makePartials=function(e){var t,r={subs:{},partials:e.partials,name:e.name};for(t in r.partials)r.partials[t]=this.makePartials(r.partials[t]);for(t in e.subs)r.subs[t]=Function("c","p","t","i",e.subs[t]);return r},e.codegen={"#":function(t,r){r.code+="if(t.s(t."+p(t.n)+'("'+h(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,r),r.code+="});c.pop();}"},"^":function(t,r){r.code+="if(!t.s(t."+p(t.n)+'("'+h(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,r),r.code+="};"},">":d,"<":function(t,r){var n={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,n);var i=r.partials[d(t,r)];i.subs=n.subs,i.partials=n.partials},$:function(t,r){var n={subs:{},code:"",partials:r.partials,prefix:t.n};e.walk(t.nodes,n),r.subs[t.n]=n.code,r.inPartial||(r.code+='t.sub("'+h(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=g('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+p(e.n)+'("'+h(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=g('"'+h(e.text)+'"')},"{":m,"&":m},e.walk=function(t,r){for(var n,i=0,o=t.length;i<o;i++)(n=e.codegen[t[i].tag])&&n(t[i],r);return r},e.parse=function(t,r,n){return function t(r,n,i,o){var a=[],s=null,c=null,u=null;for(c=i[i.length-1];r.length>0;){if(u=r.shift(),c&&"<"==c.tag&&!(u.tag in l))throw Error("Illegal content in < super tag.");if(e.tags[u.tag]<=e.tags.$||function(e,t){for(var r=0,n=t.length;r<n;r++)if(t[r].o==e.n)return e.tag="#",!0}(u,o))i.push(u),u.nodes=t(r,u.tag,i,o);else if("/"==u.tag){if(0===i.length)throw Error("Closing tag without opener: /"+u.n);if(s=i.pop(),u.n!=s.n&&!function(e,t,r){for(var n=0,i=r.length;n<i;n++)if(r[n].c==e&&r[n].o==t)return!0}(u.n,s.n,o))throw Error("Nesting error: "+s.n+" vs. "+u.n);return s.end=u.i,a}else"\n"==u.tag&&(u.last=0==r.length||"\n"==r[0].tag);a.push(u)}if(i.length>0)throw Error("missing closing tag: "+i.pop().n);return a}(t,"",[],(n=n||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,r){r=r||{};var n=e.cacheKey(t,r),i=this.cache[n];if(i){var o=i.partials;for(var a in o)delete o[a].instance;return i}return i=this.generate(this.parse(this.scan(t,r.delimiters),t,r),t,r),this.cache[n]=i}}(n_),n_.Template=h("kBwwM").Template,n_.template=n_.Template,nw=n_;var nR=function(e,t,r,n){var i;t[0]=0;for(var o=1;o<t.length;o++){var a=t[o++],s=t[o]?(t[0]|=a?1:2,r[t[o++]]):t[++o];3===a?n[0]=s:4===a?n[1]=Object.assign(n[1]||{},s):5===a?(n[1]=n[1]||{})[t[++o]]=s:6===a?n[1][t[++o]]+=s+"":a?(i=e.apply(s,nR(e,s,r,["",null])),n.push(i),s[0]?t[0]|=2:(t[o-2]=0,t[o]=i)):n.push(s)}return n},nx=new Map,nE=(function(e){var t=nx.get(this);return t||(t=new Map,nx.set(this,t)),(t=nR(this,t.get(e)||(t.set(e,t=function(e){for(var t,r,n=1,i="",o="",a=[0],s=function(e){1===n&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,i):3===n&&(e||i)?(a.push(3,e,i),n=2):2===n&&"..."===i&&e?a.push(4,e,0):2===n&&i&&!e?a.push(5,0,!0,i):n>=5&&((i||!e&&5===n)&&(a.push(n,0,i,r),n=6),e&&(a.push(n,e,0,r),n=6)),i=""},c=0;c<e.length;c++){c&&(1===n&&s(),s(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===n?"<"===t?(s(),a=[a],n=3):i+=t:4===n?"--"===i&&">"===t?(n=1,i=""):i=t+i[0]:o?t===o?o="":i+=t:'"'===t||"'"===t?o=t:">"===t?(s(),n=1):n&&("="===t?(n=5,r=i,i=""):"/"===t&&(n<5||">"===e[c][u+1])?(s(),3===n&&(a=a[0]),n=a,(a=a[0]).push(2,0,n),n=0):" "===t||"	"===t||"\n"===t||"\r"===t?(s(),n=2):i+=t),3===n&&"!--"===i&&(n=4,a=a[0])}return s(),a}(e)),t),arguments,[])).length>1?t:t[0]}).bind(na),nF={};function nT(){return(nF=nT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).__esModule=!0,nF.default=nF,nT.apply(null,arguments)}(nF=nT).__esModule=!0,nF.default=nF;var nN={},nI={};(nI=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}).__esModule=!0,nI.default=nI,(nN=function(e,t){if(null==e)return{};var r,n,i=nI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}).__esModule=!0,nN.default=nN;var nk=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"],nC=(r=(t={createElement:na,Fragment:nu}).createElement,n=t.Fragment,i=function(e){var t=e.classNames,n=e.children,i=e.highlightedTagName,o=e.isHighlighted,a=e.nonHighlightedTagName;return r(o?i:a,{className:o?t.highlighted:t.nonHighlighted},n)},function(t){var o=t.parts,a=t.highlightedTagName,s=void 0===a?"mark":a,c=t.nonHighlightedTagName,u=void 0===c?"span":c,l=t.separator,f=void 0===l?", ":l,h=t.className,p=t.classNames,d=void 0===p?{}:p,m=e(nN)(t,nk);return r("span",e(nF)({},m,{className:rZ(d.root,h)}),o.map(function(e,t){var a=t===o.length-1;return r(n,{key:t},e.map(function(e,t){return r(i,{key:t,classNames:d,highlightedTagName:s,nonHighlightedTagName:u,isHighlighted:e.isHighlighted},e.value)}),!a&&r("span",{className:d.separator},f))}))}),nA=["classNames"];function nD(){return(nD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nH(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,nA);return na(nC,nD({classNames:{root:rZ("ais-Highlight",r.root),highlighted:rZ("ais-Highlight-highlighted",r.highlighted),nonHighlighted:rZ("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:rZ("ais-Highlight-separator",r.separator)}},n))}function nL(e){return Array.isArray(e)?e:[e]}var nM=["hit","attribute","cssClasses"];function nU(){return(nU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nQ(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,nM),o=nL(g(t._highlightResult,r)||[]).map(function(e){return W(P(e.value||""))});return na(nH,nU({},i,{parts:o,classNames:n}))}var nW=["classNames"];function n$(){return(n$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nq(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,nW);return na(nC,n$({classNames:{root:rZ("ais-ReverseHighlight",r.root),highlighted:rZ("ais-ReverseHighlight-highlighted",r.highlighted),nonHighlighted:rZ("ais-ReverseHighlight-nonHighlighted",r.nonHighlighted),separator:rZ("ais-ReverseHighlight-separator",r.separator)}},n))}function nB(e){return(nB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nV=["hit","attribute","cssClasses"],nK=["isHighlighted"];function nJ(){return(nJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nz(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==nB(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nB(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nB(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nG(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nX(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=nG(e,nV),o=nL(g(t._highlightResult,r)||[]).map(function(e){return W(P(e.value||"")).map(function(e){var t=e.isHighlighted;return nY(nY({},nG(e,nK)),{},{isHighlighted:!t})})});return na(nq,nJ({},i,{parts:o,classNames:n}))}var nZ=["classNames"];function n0(){return(n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function n1(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,nZ);return na(nC,n0({classNames:{root:rZ("ais-Snippet",r.root),highlighted:rZ("ais-Snippet-highlighted",r.highlighted),nonHighlighted:rZ("ais-Snippet-nonHighlighted",r.nonHighlighted),separator:rZ("ais-Snippet-separator",r.separator)}},n))}var n2=["hit","attribute","cssClasses"];function n3(){return(n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function n8(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,n2),o=nL(g(t._snippetResult,r)||[]).map(function(e){return W(P(e.value||""))});return na(n1,n3({},i,{parts:o,classNames:n}))}var n6=["classNames"];function n4(){return(n4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function n9(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,n6);return na(nC,n4({classNames:{root:rZ("ais-ReverseSnippet",r.root),highlighted:rZ("ais-ReverseSnippet-highlighted",r.highlighted),nonHighlighted:rZ("ais-ReverseSnippet-nonHighlighted",r.nonHighlighted),separator:rZ("ais-ReverseSnippet-separator",r.separator)}},n))}function n7(e){return(n7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n5=["hit","attribute","cssClasses"],ie=["isHighlighted"];function it(){return(it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==n7(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==n7(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n7(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function io(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ia(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=io(e,n5),o=nL(g(t._snippetResult,r)||[]).map(function(e){return W(P(e.value||"")).map(function(e){var t=e.isHighlighted;return ii(ii({},io(e,ie)),{},{isHighlighted:!t})})});return na(n9,it({},i,{parts:o,classNames:n}))}function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(r),!0).forEach(function(t){il(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ic(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function il(e,t,r){var n;return(n=function(e,t){if("object"!==is(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==is(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===is(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ih(){return(ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ip(e){return(ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function id(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function im(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ig(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iw(n.key),n)}}function iy(e,t,r){return t&&ig(e.prototype,t),r&&ig(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iv(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ib(e,t)}function ib(e,t){return(ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=ij(e);return r=t?Reflect.construct(n,arguments,ij(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===ip(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return iS(e)}(this,r)}}function iS(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ij(e){return(ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iP(e,t,r){return(t=iw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iw(e){var t=function(e,t){if("object"!==ip(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ip(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ip(t)?t:String(t)}var i_=function(e){iv(r,e);var t=iO(r);function r(){var e;im(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return iP(iS(e=t.call.apply(t,[this].concat(i))),"ref",nc()),iP(iS(e),"nodes",[]),e}return iy(r,[{key:"componentDidMount",value:function(){var e,t=new DocumentFragment,r=document.createElement("div");r.innerHTML=this.props.content,this.nodes=function(e){if(Array.isArray(e))return id(e)}(e=r.childNodes)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return id(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return id(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this.nodes.forEach(function(e){return t.appendChild(e)}),this.ref.current.replaceWith(t)}},{key:"componentWillUnmount",value:function(){this.nodes.forEach(function(e){if(e instanceof Element){e.outerHTML="";return}e.nodeValue=""}),this.nodes[0].nodeValue&&(this.nodes[0].nodeValue="")}},{key:"render",value:function(){return na("div",{ref:this.ref})}}]),r}(nl),iR=function(t){iv(n,t);var r=iO(n);function n(){return im(this,n),r.apply(this,arguments)}return iy(n,[{key:"shouldComponentUpdate",value:function(e){return!en(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!en(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var t="fragment"===this.props.rootTagName?nu:this.props.rootTagName,r=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},n=function(t){var r=t.templates,n=t.templateKey,i=t.compileOptions,o=t.helpers,a=t.data,s=t.bindEvent,c=t.sendEvent,u=r[n];if("string"!=typeof u&&"function"!=typeof u)throw Error("Template must be 'string' or 'function', was '".concat(is(u),"' (key: ").concat(n,")"));if("function"==typeof u){var l=s||{};return l.html=nE,l.sendEvent=c,l.components={Highlight:nQ,ReverseHighlight:nX,Snippet:n8,ReverseSnippet:ia},u(a,l)}var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(t).reduce(function(i,o){return iu(iu({},i),{},il({},o,function(){var i=this;return function(a){return t[o].call(n,a,function(t){return e(nw).compile(t,r).render(i)})}}))},{})}(o,i,a);return e(nw).compile(u,i).render(iu(iu({},a),{},{helpers:f})).replace(/[ \n\r\t\f\xA0]+/g,function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim()}({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:r,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===n?null:"object"===ip(n)?na(t,this.props.rootProps,n):t===nu?na(i_,{content:n,key:Math.random()}):na(t,ih({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:n}}))}}]),n}(nl);function ix(e){return(ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iE(e,t){return(iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iF(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iT(e){return(iT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iN(e,t,r){return(t=iI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iI(e){var t=function(e,t){if("object"!==ix(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ix(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ix(t)?t:String(t)}iP(iR,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});var ik=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=iT(i);return e=t?Reflect.construct(r,arguments,iT(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===ix(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return iF(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return iN(iF(e=n.call.apply(n,[this].concat(r))),"state",{query:e.props.query,focused:!1}),iN(iF(e),"input",nc()),iN(iF(e),"onInput",function(t){var r=e.props,n=r.searchAsYouType,i=r.refine,o=r.onChange,a=t.target.value;e.props.ignoreCompositionEvents&&t.isComposing||(n&&i(a),e.setState({query:a}),o(t))}),iN(iF(e),"onSubmit",function(t){var r=e.props,n=r.searchAsYouType,i=r.refine,o=r.onSubmit;return t.preventDefault(),t.stopPropagation(),e.input.current&&e.input.current.blur(),n||i(e.state.query),o(t),!1}),iN(iF(e),"onReset",function(t){var r=e.props,n=r.refine,i=r.onReset;e.input.current&&e.input.current.focus(),n(""),e.setState({query:""}),i(t)}),iN(iF(e),"onBlur",function(){e.setState({focused:!1})}),iN(iF(e),"onFocus",function(){e.setState({focused:!0})}),e}return r=[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(e){this.state.focused||e.query===this.state.query||this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.cssClasses,r=e.placeholder,n=e.autofocus,i=e.showSubmit,o=e.showReset,a=e.showLoadingIndicator,s=e.templates,c=e.isSearchStalled,u=e.ariaLabel;return na("div",{className:t.root},na("form",{action:"",role:"search",className:t.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},na("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:t.input,type:"search",placeholder:r,autoFocus:n,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,oncompositionend:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,"aria-label":u}),na(iR,{templateKey:"submit",rootTagName:"button",rootProps:{className:t.submit,type:"submit",title:"Submit the search query",hidden:!i},templates:s,data:{cssClasses:t}}),na(iR,{templateKey:"reset",rootTagName:"button",rootProps:{className:t.reset,type:"reset",title:"Clear the search query",hidden:!(o&&this.state.query.trim()&&!c)},templates:s,data:{cssClasses:t}}),a&&na(iR,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:t.loadingIndicator,hidden:!c},templates:s,data:{cssClasses:t}})))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iI(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(nl);function iC(e,t){if(void 0===e||"function"!=typeof e)throw Error("The render function is not valid (received type ".concat(Object.prototype.toString.call(e).slice(8,-1),").\n\n").concat(t))}function iA(e){return(iA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==iA(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==iA(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iA(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}iN(ik,"defaultProps",{query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,ignoreCompositionEvents:!1,isSearchStalled:!1,disabled:!1,ariaLabel:"Search",onChange:e9,onSubmit:e9,onReset:e9,refine:e9});var iL=t6({name:"search-box",connector:!0}),iM=function(e,t){return t(e)},iU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e9;return iC(e,iL()),function(r){var n,i,o=(r||{}).queryHook,a=void 0===o?iM:o;return{$$type:"ais.searchBox",init:function(t){var r=t.instantSearchInstance;e(iH(iH({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(iH(iH({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("query",void 0)},getRenderState:function(e,t){return iH(iH({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,o=e.instantSearchInstance,s=e.state;return n||(n=function(e){a(e,function(e){return t.setQuery(e).search()})},i=function(){t.setQuery("").search()}),{query:s.query||"",refine:n,clear:i,widgetParams:r,isSearchStalled:"stalled"===o.status}},getWidgetUiState:function(e,t){var r=t.searchParameters.query||"";return""===r||e&&e.query===r?e:iH(iH({},e),{},{query:r})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return e.setQueryParameter("query",r.query||"")}}}};function iQ(e){var t="string"==typeof e,r=t?document.querySelector(e):e;if(!(r instanceof HTMLElement||r&&r.nodeType>0)){var n="Container must be `string` or `HTMLElement`.";throw t&&(n+=" Unable to find ".concat(e)),Error(n)}return r}var iW=na("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),i$=na("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),iq=na("g",{fill:"none","fill-rule":"evenodd"},na("g",{transform:"translate(1 1)","stroke-width":"2"},na("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),na("path",{d:"M36 18c0-9.94-8.06-18-18-18"},na("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),iB={reset:function(e){return na("svg",{className:e.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},iW)},submit:function(e){return na("svg",{className:e.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},i$)},loadingIndicator:function(e){return na("svg",{"aria-label":"Results are loading",className:e.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444","aria-hidden":"true"},iq)}};function iV(e){return(iV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iK(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==iV(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==iV(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iV(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var iz=t6({name:"search-box"}),iY=m("SearchBox"),iG=function(e){var t=e.containerNode,r=e.cssClasses,n=e.placeholder,i=e.templates,o=e.autofocus,a=e.searchAsYouType,s=e.ignoreCompositionEvents,c=e.showReset,u=e.showSubmit,l=e.showLoadingIndicator;return function(e){var f=e.refine;nP(na(ik,{query:e.query,placeholder:n,autofocus:o,refine:f,searchAsYouType:a,ignoreCompositionEvents:s,templates:i,showSubmit:u,showReset:c,showLoadingIndicator:l,isSearchStalled:e.isSearchStalled,cssClasses:r}),t)}},iX=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function iZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iZ(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==i2(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i2(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i2(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i2(e){return(i2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i3(e){var t,r=e.getIndex,n=e.widgetType,i=(e.methodName,e.args),o=e.instantSearchInstance;if(1===i.length&&"object"===i2(i[0]))return[i[0]];var a=function(e){if(Array.isArray(e))return e}(t=i[0].split(":"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{for(o=(r=r.call(e)).next;!(c=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i1(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],c=a[1],u=i[1],l=i[2],f=i[3]||{};if(!u||("click"===s||"conversion"===s)&&!l)return[];var h=Array.isArray(u)?u:[u];if(0===h.length)return[];var p=h[0].__queryID,d=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}(h),m=d.map(function(e){return e.map(function(e){return e.objectID})}),g=d.map(function(e){return e.map(function(e){return e.__position})});return"view"===s?"idle"!==o.status?[]:d.map(function(e,t){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:s,payload:i0({eventName:l||"Hits Viewed",index:r(),objectIDs:m[t]},f),hits:e,eventModifier:c}}):"click"===s?d.map(function(e,t){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:s,payload:i0({eventName:l||"Hit Clicked",index:r(),queryID:p,objectIDs:m[t],positions:g[t]},f),hits:e,eventModifier:c}}):"conversion"===s?d.map(function(e,t){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:s,payload:i0({eventName:l||"Hit Converted",index:r(),queryID:p,objectIDs:m[t]},f),hits:e,eventModifier:c}}):[]}function i8(e){return(i8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==i8(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i8(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i8(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i9(e){return(i9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i7(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==i9(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i9(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i9(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach(function(t){on(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function on(e,t,r){var n;return(n=function(e,t){if("object"!==oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oe(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===oe(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oi=t6({name:"hits",connector:!0}),oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e9;return iC(e,oi()),function(r){var n,i,o=r||{},a=o.escapeHTML,s=void 0===a||a,c=o.transformItems,u=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e(or(or({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=this.getWidgetRenderState(t);e(or(or({},r),{},{instantSearchInstance:t.instantSearchInstance}),!1),r.sendEvent("view:internal",r.items)},getRenderState:function(e,t){return or(or({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,o,a,c,l,f,h,p,d,m,g,y,v,b,O,S,j,P,w,_=e.results,x=e.helper,E=e.instantSearchInstance;if(n||(o=(t={instantSearchInstance:E,getIndex:function(){return x.getIndex()},widgetType:this.$$type}).instantSearchInstance,a=t.getIndex,c=t.widgetType,l={},f=void 0,n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];i3({widgetType:c,getIndex:a,methodName:"sendEvent",args:t,instantSearchInstance:o}).forEach(function(e){"click"===e.eventType&&"internal"===e.eventModifier&&l[e.eventType]||(l[e.eventType]=!0,o.sendEventToInsights(e))}),clearTimeout(f),f=setTimeout(function(){l={}},0)}),i||(p=(h={getIndex:function(){return x.getIndex()},widgetType:this.$$type,instantSearchInstance:E}).getIndex,d=h.widgetType,m=h.instantSearchInstance,i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=i3({widgetType:d,getIndex:p,methodName:"bindEvent",args:t,instantSearchInstance:m});return n.length?"data-insights-event=".concat(z(n)):""}),!_)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:n,bindEvent:i,widgetParams:r};s&&_.hits.length>0&&(_.hits=(void 0===(g=_.hits).__escaped&&((g=g.map(function(e){var t=R({},(function(e){if(null==e)throw TypeError("Cannot destructure "+e)}(e),e));return t._highlightResult&&(t._highlightResult=k(t._highlightResult)),t._snippetResult&&(t._snippetResult=k(t._snippetResult)),t})).__escaped=!0),g));var F=u((y=_.hits,v=_.page,b=_.hitsPerPage,O=y.map(function(e,t){return i4(i4({},e),{},{__position:b*v+t+1})}),(S=_.queryID)?O.map(function(e){return i5(i5({},e),{},{__queryID:S})}):O),{results:_}),T=null===(j=_.renderingContent)||void 0===j?void 0:null===(P=j.widgets)||void 0===P?void 0:null===(w=P.banners)||void 0===w?void 0:w[0];return{hits:F,items:F,results:_,banner:T,sendEvent:n,bindEvent:i,widgetParams:r}},dispose:function(e){var r=e.state;return(t(),s)?r.setQueryParameters(Object.keys(T).reduce(function(e,t){return or(or({},e),{},on({},t,void 0))},{})):r},getWidgetSearchParameters:function(e,t){return s?e.setQueryParameters(T):e}}}};function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?os(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==oa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oa(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oa(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):os(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ou=function(e){var t=t9(e.map(function(e){return e.__queryID}));if(t.length>1)throw Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var r=t[0];if("string"!=typeof r)throw Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return r},ol=function(e){var t=e.method,r=e.results,n=e.hits,i=e.objectIDs,o=r.index,a=i.map(function(e){var t=e7(n,function(t){return t.objectID===e});if(void 0===t)throw Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return t}),s=ou(a);switch(t){case"clickedObjectIDsAfterSearch":return{index:o,queryID:s,objectIDs:i,positions:a.map(function(e){return e.__position})};case"convertedObjectIDsAfterSearch":return{index:o,queryID:s,objectIDs:i};default:throw Error('Unsupported method passed to insights: "'.concat(t,'".'))}},of=function(e){var t=e.insights,r=e.sendEvent;return function(e){var n=oh(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-event")});n&&(function(e){var t=e.getAttribute("data-insights-event");if("string"!=typeof t)throw Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return Y(t)}catch(e){throw Error("The insights middleware was unable to parse `data-insights-event`.")}})(n).forEach(function(e){return r(e)});var i=oh(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-method")&&e.hasAttribute("data-insights-payload")});if(i){var o=function(e){var t=e.getAttribute("data-insights-method"),r=e.getAttribute("data-insights-payload");if("string"!=typeof r)throw Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{var n=Y(r);return{method:t,payload:n}}catch(e){throw Error("The insights helper was unable to parse `data-insights-payload`.")}}(i);t(o.method,o.payload)}}};function oh(e,t,r){for(var n=e;n&&!r(n);){if(n===t)return null;n=n.parentElement}return n}function op(e){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function od(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function om(e){return function(e){if(Array.isArray(e))return og(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return og(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return og(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function og(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oy(e){var t=e.defaultTemplates,r=e.templates;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?od(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==op(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==op(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===op(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):od(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({templatesConfig:e.templatesConfig},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t9([].concat(om(Object.keys(e||{})),om(Object.keys(t)))).reduce(function(r,n){var i=e?e[n]:void 0,o=t[n],a=void 0!==o&&o!==i;return r.templates[n]=a?o:i,r.useCustomCompileOptions[n]=a,r},{templates:{},useCustomCompileOptions:{}})}(t,r))}var ov={empty:function(){return"No results"},item:function(e){var t;return JSON.stringify((t=["__hitIndex"],null==e?e:Object.keys(e).reduce(function(r,n){return t.indexOf(n)>=0||(r[n]=e[n]),r},{})),null,2)}};function ob(e){return(ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oO=["hit","index"];function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==ob(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ob(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ob(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oP(){return(oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ow=t6({name:"hits"}),o_=(a=({createElement:s=(o={createElement:na,Fragment:nu}).createElement,Fragment:o.Fragment}).createElement,c=function(e){var t=e.classNames,r=e.banner;return r.image.urls[0].url?a("aside",{className:rZ("ais-Hits-banner",t.bannerRoot)},r.link?a("a",{className:rZ("ais-Hits-banner-link",t.bannerLink),href:r.link.url,target:r.link.target},a("img",{className:rZ("ais-Hits-banner-image",t.bannerImage),src:r.image.urls[0].url,alt:r.image.title})):a("img",{className:rZ("ais-Hits-banner-image",t.bannerImage),src:r.image.urls[0].url,alt:r.image.title})):null},function(t){var r=t.classNames,n=void 0===r?{}:r,i=t.hits,o=t.itemComponent,a=t.sendEvent,u=t.emptyComponent,l=t.banner,f=t.bannerComponent,h=e(nN)(t,iX);return s("div",e(nF)({},h,{className:rZ("ais-Hits",n.root,0===i.length&&rZ("ais-Hits--empty",n.emptyRoot),h.className)}),l&&(f?s(f,{className:rZ("ais-Hits-banner",n.bannerRoot),banner:l}):s(c,{classNames:n,banner:l})),0===i.length&&u?s(u,null):s("ol",{className:rZ("ais-Hits-list",n.list)},i.map(function(e,t){return s(o,{key:e.objectID,hit:e,index:t,className:rZ("ais-Hits-item",n.item),onClick:function(){a("click:internal",e,"Hit Clicked")},onAuxClick:function(){a("click:internal",e,"Hit Clicked")}})})))}),oR=function(e){var t=e.renderState,r=e.cssClasses,n=e.containerNode,i=e.templates;return function(e,o){var a=e.items,s=e.results,c=e.instantSearchInstance,u=e.insights,l=e.bindEvent,f=e.sendEvent,h=e.banner;if(o){t.templateProps=oy({defaultTemplates:ov,templatesConfig:c.templatesConfig,templates:i});return}var p=of({insights:u,sendEvent:f});nP(na(o_,{hits:a,itemComponent:function(e){var r=e.hit,n=e.index,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,oO);return na(iR,oP({},t.templateProps,{templateKey:"item",rootTagName:"li",rootProps:oj(oj({},i),{},{onClick:function(e){p(e),i.onClick()},onAuxClick:function(e){p(e),i.onAuxClick()}}),data:oj(oj({},r),{},{get __hitIndex(){return n}}),bindEvent:l,sendEvent:f}))},sendEvent:f,classNames:r,emptyComponent:function(e){var r=oP({},(function(e){if(null==e)throw TypeError("Cannot destructure "+e)}(e),e));return na(iR,oP({},t.templateProps,{rootProps:r,templateKey:"empty",data:s,rootTagName:"fragment"}))},banner:h,bannerComponent:i.banner?function(e){return na(iR,oP({},t.templateProps,{templateKey:"banner",data:e,rootTagName:"fragment"}))}:void 0}),n)}};function ox(e){return 1===e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function oE(e){var t=e.templates,r=e.templateKey,n=e.ariaLabel,i=e.pageNumber,o=e.className,a=e.isDisabled,s=void 0!==a&&a,c=e.isSelected,u=e.cssClasses,l=e.createURL,f=e.createClickHandler;return na("li",{className:rZ(u.item,s&&u.disabledItem,o,void 0!==c&&c&&u.selectedItem)},s?na(iR,{rootTagName:"span",rootProps:{className:u.link,"aria-label":n},templateKey:r,templates:t,data:{page:i+1}}):na(iR,{rootTagName:"a",rootProps:{className:u.link,"aria-label":n,href:l(i),onClick:f(i)},templateKey:r,templates:t,data:{page:i+1}}))}var oF=function(e){function t(t){return function(r){ox(r)||(r.preventDefault(),e.setCurrentPage(t))}}return na("div",{className:rZ(e.cssClasses.root,e.nbPages<=1&&e.cssClasses.noRefinementRoot)},na("ul",{className:e.cssClasses.list},e.showFirst&&na(oE,{ariaLabel:"First Page",className:e.cssClasses.firstPageItem,isDisabled:e.isFirstPage,templates:e.templates,templateKey:"first",pageNumber:0,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.showPrevious&&na(oE,{ariaLabel:"Previous Page",className:e.cssClasses.previousPageItem,isDisabled:e.isFirstPage,templates:e.templates,templateKey:"previous",pageNumber:e.currentPage-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.pages.map(function(r){return na(oE,{key:r,ariaLabel:"Page ".concat(r+1),className:e.cssClasses.pageItem,isSelected:r===e.currentPage,templates:e.templates,templateKey:"page",pageNumber:r,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t})}),e.showNext&&na(oE,{ariaLabel:"Next Page",className:e.cssClasses.nextPageItem,isDisabled:e.isLastPage,templates:e.templates,templateKey:"next",pageNumber:e.currentPage+1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.showLast&&na(oE,{ariaLabel:"Last Page, Page ".concat(e.nbPages),className:e.cssClasses.lastPageItem,isDisabled:e.isLastPage,templates:e.templates,templateKey:"last",pageNumber:e.nbPages-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t})))};function oT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oN(e){var t,r=e.start,n=void 0===r?0:r,i=e.end,o=e.step,a=void 0===o?1:o,s=0===a?1:a;return((function(e){if(Array.isArray(e))return oT(e)})(t=Array(Math.round((i-n)/s)))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return oT(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oT(e,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,t){return n+t*s})}function oI(e){return(oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ok(e,t,r){return(t=oC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oC(e){var t=function(e,t){if("object"!==oI(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oI(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oI(t)?t:String(t)}var oA=function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),ok(this,"currentPage",void 0),ok(this,"total",void 0),ok(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}return e=[{key:"pages",value:function(){var e=this.total,t=this.currentPage,r=this.padding;if(0===e)return[0];var n=this.nbPagesDisplayed(r,e);if(n===e)return oN({end:e});var i=this.calculatePaddingLeft(t,r,e,n),o=n-i;return oN({start:t-i,end:t+o})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,r,n){return e<=t?e:e>=r-t?n-(r-e):t}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oC(n.key),n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function oD(e){return(oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oH(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==oD(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oD(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oD(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var oM=t6({name:"pagination",connector:!0}),oU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e9;return iC(e,oM()),function(r){var n=r||{},i=n.totalPages,o=n.padding,a=new oA({currentPage:0,total:0,padding:void 0===o?3:o}),s={};return{$$type:"ais.pagination",init:function(t){var r=t.instantSearchInstance;e(oL(oL({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(oL(oL({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var r=t.searchParameters.page||0;return r?oL(oL({},e),{},{page:r+1}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.page?r.page-1:0;return e.setQueryParameter("page",n)},getWidgetRenderState:function(e){var t,n=e.results,o=e.helper,c=e.state,u=e.createURL;s.refine||(s.refine=function(e){o.setPage(e),o.search()}),s.createURL||(s.createURL=function(e){return u(function(t){return oL(oL({},t),{},{page:e+1})})});var l=c.page||0,f=(t=(n||{nbPages:0}).nbPages,void 0!==i?Math.min(i,t):t);return a.currentPage=l,a.total=f,{createURL:s.createURL,refine:s.refine,canRefine:f>1,currentRefinement:l,nbHits:(null==n?void 0:n.nbHits)||0,nbPages:f,pages:n?a.pages():[],isFirstPage:a.isFirstPage(),isLastPage:a.isLastPage(),widgetParams:r}},getRenderState:function(e,t){return oL(oL({},e),{},{pagination:this.getWidgetRenderState(t)})}}}};function oQ(e){return(oQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oW(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==oQ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oQ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oQ(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var oq=m("Pagination"),oB=t6({name:"pagination"}),oV={previous:function(){return"‹"},next:function(){return"›"},page:function(e){var t=e.page;return"".concat(t)},first:function(){return"«"},last:function(){return"»"}},oK=function(e){var t=e.containerNode,r=e.cssClasses,n=e.templates,i=e.showFirst,o=e.showLast,a=e.showPrevious,s=e.showNext,c=e.scrollToNode;return function(e,u){var l=e.createURL,f=e.currentRefinement,h=e.nbPages,p=e.pages,d=e.isFirstPage,m=e.isLastPage,g=e.refine;u||nP(na(oF,{createURL:l,cssClasses:r,currentPage:f,templates:n,nbPages:h,pages:p,isFirstPage:d,isLastPage:m,setCurrentPage:function(e){g(e),!1!==c&&c.scrollIntoView()},showFirst:i,showLast:o,showPrevious:a,showNext:s}),t)}};function oJ(){return(oJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var oz=function(e){var t=e.className,r=e.handleClick,n=e.facetValueToRefine,i=e.isRefined,o=e.templateProps,a=e.templateKey,s=e.templateData,c=e.subItems;return na("li",{className:t,onClick:function(e){r({facetValueToRefine:n,isRefined:i,originalEvent:e})}},na(iR,oJ({},o,{templateKey:a,data:s})),c)},oY=["root"];function oG(e){return(oG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oX(Object(r),!0).forEach(function(t){o8(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o0(){return(o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o1(e,t){return(o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o2(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o3(e){return(o3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o8(e,t,r){return(t=o6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o6(e){var t=function(e,t){if("object"!==oG(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oG(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oG(t)?t:String(t)}function o4(e){return void 0!==e.data}var o9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o1(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=o3(i);return e=t?Reflect.construct(r,arguments,o3(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===oG(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return o2(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return o8(o2(e=n.call.apply(n,[this].concat(r))),"searchBox",nc()),o8(o2(e),"_generateFacetItem",function(t){if(o4(t)&&Array.isArray(t.data)&&t.data.length>0){var r,n=e.props.cssClasses,o=(n.root,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,oY));r=na(i,o0({},e.props,{cssClasses:o,depth:e.props.depth+1,facetValues:t.data,showMore:!1,className:e.props.cssClasses.childList}))}var a=e.props.createURL(t.value),s=oZ(oZ({},t),{},{url:a,attribute:e.props.attribute,cssClasses:e.props.cssClasses,isFromSearch:e.props.isFromSearch}),c=t.value;void 0!==t.isRefined&&(c+="/".concat(t.isRefined)),void 0!==t.count&&(c+="/".concat(t.count));var u=rZ(e.props.cssClasses.item,t.isRefined&&e.props.cssClasses.selectedItem,!t.count&&e.props.cssClasses.disabledItem,!!(o4(t)&&Array.isArray(t.data)&&t.data.length>0)&&e.props.cssClasses.parentItem);return na(oz,{templateKey:"item",key:c,facetValueToRefine:t.value,handleClick:e.handleItemClick,isRefined:t.isRefined,className:u,subItems:r,templateData:s,templateProps:e.props.templateProps})}),o8(o2(e),"handleItemClick",function(t){var r=t.facetValueToRefine,n=t.isRefined,i=t.originalEvent;if(!ox(i)){var o=i.target;if(null!==o&&null!==o.parentNode&&!(n&&o.parentNode.querySelector('input[type="radio"]:checked'))){if("INPUT"===o.tagName){e.refine(r);return}for(;o!==i.currentTarget;){if("LABEL"===o.tagName&&(o.querySelector('input[type="checkbox"]')||o.querySelector('input[type="radio"]')))return;"A"===o.tagName&&o.href&&i.preventDefault(),o=o.parentNode}i.stopPropagation(),e.refine(r)}}}),e}return r=[{key:"shouldComponentUpdate",value:function(e){return!en(this.props.facetValues,e.facetValues)}},{key:"refine",value:function(e){this.props.toggleRefinement(e)}},{key:"componentWillReceiveProps",value:function(e){this.searchBox.current&&!e.isFromSearch&&this.searchBox.current.resetInput()}},{key:"refineFirstValue",value:function(){var e=this.props.facetValues&&this.props.facetValues[0];if(e){var t=e.value;this.props.toggleRefinement(t)}}},{key:"render",value:function(){var e=this,t=rZ(this.props.cssClasses.showMore,!(!0===this.props.showMore&&this.props.canToggleShowMore)&&this.props.cssClasses.disabledShowMore),r=!0===this.props.showMore&&na(iR,o0({},this.props.templateProps,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:t,disabled:!this.props.canToggleShowMore,onClick:this.props.toggleShowMore},data:{isShowingMore:this.props.isShowingMore}})),n=!0!==this.props.searchIsAlwaysActive&&!(this.props.isFromSearch||!this.props.hasExhaustiveItems),i=this.props.searchFacetValues&&na("div",{className:this.props.cssClasses.searchBox},na(ik,{ref:this.searchBox,placeholder:this.props.searchPlaceholder,disabled:n,cssClasses:this.props.cssClasses.searchable,templates:this.props.searchBoxTemplateProps.templates,onChange:function(t){return e.props.searchFacetValues(t.target.value)},onReset:function(){return e.props.searchFacetValues("")},onSubmit:function(){return e.refineFirstValue()},searchAsYouType:!1,ariaLabel:"Search for filters"})),o=this.props.facetValues&&this.props.facetValues.length>0&&na("ul",{className:this.props.cssClasses.list},this.props.facetValues.map(this._generateFacetItem,this)),a=this.props.searchFacetValues&&this.props.isFromSearch&&(!this.props.facetValues||0===this.props.facetValues.length)&&na(iR,o0({},this.props.templateProps,{templateKey:"searchableNoResults",rootProps:{className:this.props.cssClasses.noResults}}));return na("div",{className:rZ(this.props.cssClasses.root,(!this.props.facetValues||0===this.props.facetValues.length)&&this.props.cssClasses.noRefinementRoot,this.props.className)},this.props.children,i,o,a,r)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o6(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(nl);function o7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o5(e){return(o5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o8(o9,"defaultProps",{cssClasses:{},depth:0});var ar=["name","escapedValue"],an=["escapedValue","value"];function ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(r),!0).forEach(function(t){aa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ai(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aa(e,t,r){var n;return(n=function(e,t){if("object"!==at(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==at(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===at(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function as(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ac=t6({name:"refinement-list",connector:!0}),au=["isRefined","count:desc","name:asc"],al=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e9;return iC(e,ac()),function(r){var n,i,o,a=r||{},s=a.attribute,c=a.operator,u=void 0===c?"or":c,l=a.limit,f=void 0===l?10:l,h=a.showMore,p=void 0!==h&&h,d=a.showMoreLimit,m=void 0===d?20:d,g=a.sortBy,y=void 0===g?au:g,v=a.escapeFacetValues,b=void 0===v||v,O=a.transformItems,S=void 0===O?function(e){return e}:O;if(!s)throw Error(ac("The `attribute` option is required."));if(!/^(and|or)$/.test(u))throw Error(ac('The `operator` must one of: `"and"`, `"or"` (got "'.concat(u,'").')));if(!0===p&&m<=f)throw Error(ac("`showMoreLimit` should be greater than `limit`."));var j=function(e){var t=e.name,r=e.escapedValue;return ao(ao({},as(e,ar)),{},{value:r,label:t,highlighted:t})},P=[],w=!0,_=!1,R=function(){};function x(){R()}var F=function(){return function(){}};return{$$type:"ais.refinementList",init:function(t){e(ao(ao({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(ao(ao({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return ao(ao({},e),{},{refinementList:ao(ao({},e.refinementList),{},aa({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(t){var a=this,c=t.results,u=t.state,l=t.createURL,h=t.instantSearchInstance,d=t.helper,g=[],v=[];if(o&&i&&F||(k=(O={instantSearchInstance:h,helper:d,attribute:s,widgetType:this.$$type}).instantSearchInstance,C=O.helper,A=O.attribute,D=O.widgetType,o=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[1],o=r[2],a=r[3],s=function(e){if(Array.isArray(e))return e}(e=r[0].split(":"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{for(o=(r=r.call(e)).next;!(c=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ae(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],l="string"==typeof A?A:A(i);1===r.length&&"object"===o5(r[0])?k.sendEventToInsights(r[0]):"click"!==c||!(r.length>=2)||!(r.length<=4)||(C.state.isHierarchicalFacet(l)?C.state.isHierarchicalFacetRefined(l,i):C.state.isConjunctiveFacet(l)?C.state.isFacetRefined(l,i):C.state.isDisjunctiveFacetRefined(l,i))||k.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:D,eventType:c,eventModifier:u,payload:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o7(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o5(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o5(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o5(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({eventName:void 0===o?"Filter Applied":o,index:C.getIndex(),filters:["".concat(l,":").concat(i)]},void 0===a?{}:a),attribute:l})},i=function(e){o("click:internal",e),d.toggleFacetRefinement(s,e).search()},H=this,F=function(t){return function(r){var i=t.instantSearchInstance,o=t.results;if(""===r&&P)e(ao(ao({},H.getWidgetRenderState(ao(ao({},t),{},{results:n}))),{},{instantSearchInstance:i}),!1);else{var a={highlightPreTag:b?T.highlightPreTag:N.highlightPreTag,highlightPostTag:b?T.highlightPostTag:N.highlightPostTag};d.searchForFacetValues(s,r,Math.min(_?m:f,100),a).then(function(r){var a=S((b?r.facetHits.map(function(e){return E(E({},e),{},{highlighted:I(e.highlighted)})}):r.facetHits).map(function(e){var t=e.escapedValue,r=e.value;return ao(ao({},as(e,an)),{},{value:t,label:r})}),{results:o});e(ao(ao({},H.getWidgetRenderState(ao(ao({},t),{},{results:n}))),{},{items:a,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:i}),!1)})}}}),c){var O,k,C,A,D,H,L,M=c.getFacetValues(s,{sortBy:y,facetOrdering:y===au});g=S((v=M&&Array.isArray(M)?M:[]).slice(0,_?m:f).map(j),{results:c});var U=u.maxValuesPerFacet,Q=_?m:f;w=U>Q?v.length<=Q:v.length<Q,n=c,P=g,t.results&&(L=this,R=function(){_=!_,L.render(t)})}var W=F&&F(t),$=_&&P.length>f,q=p&&!w;return{createURL:function(e){return l(function(t){return a.getWidgetUiState(t,{searchParameters:u.resetPage().toggleFacetRefinement(s,e),helper:d})})},items:g,refine:i,searchForItems:W,isFromSearch:!1,canRefine:g.length>0,widgetParams:r,isShowingMore:_,canToggleShowMore:$||q,toggleShowMore:x,sendEvent:o,hasExhaustiveItems:w}},dispose:function(e){var r=e.state;t();var n=r.setQueryParameter("maxValuesPerFacet",void 0);return"and"===u?n.removeFacet(s):n.removeDisjunctiveFacet(s)},getWidgetUiState:function(e,t){var r,n=t.searchParameters,i="or"===u?n.getDisjunctiveRefinements(s):n.getConjunctiveRefinements(s);return(r=ao(ao({},e),{},{refinementList:ao(ao({},e.refinementList),{},aa({},s,i))})).refinementList&&(r.refinementList[s]&&0!==r.refinementList[s].length||delete r.refinementList[s],0===Object.keys(r.refinementList).length&&delete r.refinementList),r},getWidgetSearchParameters:function(e,t){var r=t.uiState,n="or"===u;if(e.isHierarchicalFacet(s)||n&&e.isConjunctiveFacet(s)||!n&&e.isDisjunctiveFacet(s))return e;var i=r.refinementList&&r.refinementList[s],o=n?e.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):e.addFacet(s).removeFacetRefinement(s),a=Math.max(o.maxValuesPerFacet||0,p?m:f),c=o.setQueryParameter("maxValuesPerFacet",a);if(!i){var l=n?"disjunctiveFacetsRefinements":"facetsRefinements";return c.setQueryParameters(aa({},l,ao(ao({},c[l]),{},aa({},s,[]))))}return i.reduce(function(e,t){return n?e.addDisjunctiveFacetRefinement(s,t):e.addFacetRefinement(s,t)},c)}}}},af={item:function(e){var t=e.cssClasses,r=e.count,n=e.value,i=e.highlighted,o=e.isRefined,a=e.isFromSearch;return na("label",{className:rZ(t.label)},na("input",{type:"checkbox",className:rZ(t.checkbox),value:n,defaultChecked:o}),na("span",{className:rZ(t.labelText),dangerouslySetInnerHTML:a?{__html:i}:void 0},!a&&i),na("span",{className:rZ(t.count)},rj(r)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"},searchableNoResults:function(){return"No results"}};function ah(e){return(ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==ah(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ah(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ah(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var am=t6({name:"refinement-list"}),ag=m("RefinementList"),ay=m("SearchBox"),av=function(e){var t=e.containerNode,r=e.cssClasses,n=e.templates,i=e.searchBoxTemplates,o=e.renderState,a=e.showMore,s=e.searchable,c=e.searchablePlaceholder,u=e.searchableIsAlwaysActive;return function(e,l){var f=e.refine,h=e.items,p=e.createURL,d=e.searchForItems,m=e.isFromSearch,g=e.instantSearchInstance,y=e.toggleShowMore,v=e.isShowingMore,b=e.hasExhaustiveItems,O=e.canToggleShowMore;if(l){o.templateProps=oy({defaultTemplates:af,templatesConfig:g.templatesConfig,templates:n}),o.searchBoxTemplateProps=oy({defaultTemplates:iB,templatesConfig:g.templatesConfig,templates:i});return}nP(na(o9,{createURL:p,cssClasses:r,facetValues:h,templateProps:o.templateProps,searchBoxTemplateProps:o.searchBoxTemplateProps,toggleRefinement:f,searchFacetValues:s?d:void 0,searchPlaceholder:c,searchIsAlwaysActive:u,isFromSearch:m,showMore:a&&!m&&h.length>0,toggleShowMore:y,isShowingMore:v,hasExhaustiveItems:b,canToggleShowMore:O}),t)}};function ab(e){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==ab(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ab(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ab(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var aj=function(e){var t=e.style,r=e.children,n=Math.round(parseFloat(t.left)),i=[0,50,100].includes(n),o=Math.round(100*parseInt(r,10))/100;return na("div",{style:aS(aS({},t),{},{marginLeft:100===n?"-2px":0}),className:rZ("rheostat-marker","rheostat-marker-horizontal",i&&"rheostat-marker-large")},i&&na("div",{className:"rheostat-value"},o))};function aP(e){return(aP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aw(e,t){return(aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a_(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aR(e){return(aR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ax(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==aP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==aP(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aP(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aE(){return(aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var aF={DOWN:40,END:35,ESC:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,UP:38};function aT(e,t,r){return(e-t)/(r-t)*100}function aN(e,t,r){return 0===e?t:100===e?r:Math.round(e/100*(r-t)+t)}function aI(e){return["rheostat","vertical"===e.orientation?"rheostat-vertical":"rheostat-horizontal"].concat(e.className.split(" ")).join(" ")}function ak(e){return Number(e.currentTarget.getAttribute("data-handle-key"))}function aC(e){e.stopPropagation(),e.preventDefault()}var aA=na("div",{className:"rheostat-background"}),aD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aw(e,t)}(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=aR(n);return e=t?Reflect.construct(r,arguments,aR(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===aP(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return a_(e)}(this,e)});function n(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return ax(a_(e=r.call.apply(r,[this].concat(i))),"x",[0,0].map(function(e){return e})),ax(a_(e),"state",{className:aI(e.props),handlePos:e.props.values.map(function(t){return aT(t,e.props.min,e.props.max)}),handleDimensions:0,mousePos:null,sliderBox:{},slidingIndex:null,values:e.props.values}),ax(a_(e),"rheostat",nc()),ax(a_(e),"componentWillReceiveProps",function(t){var r=e.props,n=r.className,i=r.disabled,o=r.min,a=r.max,s=r.orientation,c=e.state,u=c.values,l=c.slidingIndex,f=t.min!==o||t.max!==a,h=u.length!==t.values.length||u.some(function(e,r){return t.values[r]!==e}),p=t.className!==n||t.orientation!==s,d=t.disabled&&!i;p&&e.setState({className:aI(t)}),(f||h)&&e.updateNewValues(t),d&&null!==l&&e.endSlide()}),ax(a_(e),"getPublicState",function(){var t=e.props,r=t.min;return{max:t.max,min:r,values:e.state.values}}),ax(a_(e),"getSliderBoundingBox",function(){var t=e.rheostat.current,r=t.getBoundingClientRect();return{height:r.height||t.clientHeight,left:r.left,top:r.top,width:r.width||t.clientWidth}}),ax(a_(e),"getProgressStyle",function(t){var r=e.state.handlePos,n=r[t];if(0===t)return"vertical"===e.props.orientation?{height:"".concat(n,"%"),top:0}:{left:0,width:"".concat(n,"%")};var i=r[t-1],o=n-i;return"vertical"===e.props.orientation?{height:"".concat(o,"%"),top:"".concat(i,"%")}:{left:"".concat(i,"%"),width:"".concat(o,"%")}}),ax(a_(e),"getMinValue",function(t){return e.state.values[t-1]?Math.max(e.props.min,e.state.values[t-1]):e.props.min}),ax(a_(e),"getMaxValue",function(t){return e.state.values[t+1]?Math.min(e.props.max,e.state.values[t+1]):e.props.max}),ax(a_(e),"getHandleDimensions",function(t,r){var n=t.currentTarget||null;return n?"vertical"===e.props.orientation?n.clientHeight/r.height*100/2:n.clientWidth/r.width*100/2:0}),ax(a_(e),"getClosestSnapPoint",function(t){return e.props.snapPoints.length?e.props.snapPoints.reduce(function(e,r){return Math.abs(e-t)<Math.abs(r-t)?e:r}):t}),ax(a_(e),"getSnapPosition",function(t){if(!e.props.snap)return t;var r=e.props,n=r.max,i=r.min,o=aN(t,i,n);return aT(e.getClosestSnapPoint(o),i,n)}),ax(a_(e),"getNextPositionForKey",function(t,r){var n,i=e.state,o=i.handlePos,a=i.values,s=e.props,c=s.max,u=s.min,l=s.snapPoints,f=e.props.snap,h=a[t],p=o[t],d=p,m=1;c>=100?p=Math.round(p):m=100/(c-u);var g=null;f&&(g=l.indexOf(e.getClosestSnapPoint(a[t])));var y=(ax(n={},aF.LEFT,function(e){return -1*e}),ax(n,aF.RIGHT,function(e){return e}),ax(n,aF.UP,function(e){return e}),ax(n,aF.DOWN,function(e){return -1*e}),ax(n,aF.PAGE_DOWN,function(e){return e>1?-e:-10*e}),ax(n,aF.PAGE_UP,function(e){return e>1?e:10*e}),n);if(Object.prototype.hasOwnProperty.call(y,r))p+=y[r](m),f&&g&&(p>d?g<l.length-1&&(h=l[g+1]):g>0&&(h=l[g-1]));else if(r===aF.HOME)p=0,f&&(h=l[0]);else{if(r!==aF.END)return null;p=100,f&&(h=l[l.length-1])}return f?aT(h,u,c):p}),ax(a_(e),"getNextState",function(t,r){var n=e.state.handlePos,i=e.props,o=i.max,a=i.min,s=e.validatePosition(t,r),c=n.map(function(e,r){return r===t?s:e});return{handlePos:c,values:c.map(function(e){return aN(e,a,o)})}}),ax(a_(e),"getClosestHandle",function(t){var r=e.state.handlePos;return r.reduce(function(e,n,i){return Math.abs(r[i]-t)<Math.abs(r[e]-t)?i:e},0)}),ax(a_(e),"setStartSlide",function(t,r,n){var i=e.getSliderBoundingBox();e.setState({handleDimensions:e.getHandleDimensions(t,i),mousePos:{x:r,y:n},sliderBox:i,slidingIndex:ak(t)})}),ax(a_(e),"startMouseSlide",function(t){e.setStartSlide(t,t.clientX,t.clientY),document.addEventListener("mousemove",e.handleMouseSlide,!1),document.addEventListener("mouseup",e.endSlide,!1),aC(t)}),ax(a_(e),"startTouchSlide",function(t){if(!(t.changedTouches.length>1)){var r=t.changedTouches[0];e.setStartSlide(t,r.clientX,r.clientY),document.addEventListener("touchmove",e.handleTouchSlide,!1),document.addEventListener("touchend",e.endSlide,!1),e.props.onSliderDragStart&&e.props.onSliderDragStart(),aC(t)}}),ax(a_(e),"handleMouseSlide",function(t){null!==e.state.slidingIndex&&(e.handleSlide(t.clientX,t.clientY),aC(t))}),ax(a_(e),"handleTouchSlide",function(t){if(null!==e.state.slidingIndex){if(t.changedTouches.length>1){e.endSlide();return}var r=t.changedTouches[0];e.handleSlide(r.clientX,r.clientY),aC(t)}}),ax(a_(e),"handleSlide",function(t,r){var n=e.state,i=n.slidingIndex,o=n.sliderBox,a="vertical"===e.props.orientation?(r-o.top)/o.height*100:(t-o.left)/o.width*100;e.slideTo(i,a),e.canMove(i,a)&&(e.setState({mousePos:{x:t,y:r}}),e.props.onSliderDragMove&&e.props.onSliderDragMove())}),ax(a_(e),"endSlide",function(){var t=e.state.slidingIndex;if(e.setState({slidingIndex:null}),document.removeEventListener("mouseup",e.endSlide,!1),document.removeEventListener("touchend",e.endSlide,!1),document.removeEventListener("touchmove",e.handleTouchSlide,!1),document.removeEventListener("mousemove",e.handleMouseSlide,!1),e.props.onSliderDragEnd&&e.props.onSliderDragEnd(),e.props.snap){var r=e.getSnapPosition(e.state.handlePos[t]);e.slideTo(t,r,function(){return e.fireChangeEvent()})}else e.fireChangeEvent()}),ax(a_(e),"handleClick",function(t){if(!t.target.getAttribute("data-handle-key")){var r=e.getSliderBoundingBox(),n=("vertical"===e.props.orientation?(t.clientY-r.top)/r.height:(t.clientX-r.left)/r.width)*100,i=e.getClosestHandle(n),o=e.getSnapPosition(n);e.slideTo(i,o,function(){return e.fireChangeEvent()}),e.props.onClick&&e.props.onClick()}}),ax(a_(e),"handleKeydown",function(t){var r=ak(t);if(t.keyCode===aF.ESC){t.currentTarget.blur();return}var n=e.getNextPositionForKey(r,t.keyCode);null!==n&&(e.canMove(r,n)&&(e.slideTo(r,n,function(){return e.fireChangeEvent()}),e.props.onKeyPress&&e.props.onKeyPress()),aC(t))}),ax(a_(e),"validatePosition",function(t,r){var n=e.state,i=n.handlePos,o=n.handleDimensions;return Math.max(Math.min(r,void 0!==i[t+1]?i[t+1]-o:100),void 0!==i[t-1]?i[t-1]+o:0)}),ax(a_(e),"validateValues",function(t,r){var n=r||e.props,i=n.max,o=n.min;return t.map(function(e,t,r){var n=Math.max(Math.min(e,i),o);return r.length&&n<r[t-1]?r[t-1]:n})}),ax(a_(e),"canMove",function(t,r){var n=e.state,i=n.handlePos,o=n.handleDimensions;return!(r<0)&&!(r>100)&&!(r>(void 0!==i[t+1]?i[t+1]-o:1/0))&&!(r<(void 0!==i[t-1]?i[t-1]+o:-1/0))}),ax(a_(e),"fireChangeEvent",function(){var t=e.props.onChange;t&&t(e.getPublicState())}),ax(a_(e),"slideTo",function(t,r,n){var i=e.getNextState(t,r);e.setState(i,function(){var t=e.props.onValuesUpdated;t&&t(e.getPublicState()),n&&n()})}),ax(a_(e),"updateNewValues",function(t){if(null===e.state.slidingIndex){var r=t.max,n=t.min,i=t.values,o=e.validateValues(i,t);e.setState({handlePos:o.map(function(e){return aT(e,n,r)}),values:o},function(){return e.fireChangeEvent()})}}),ax(a_(e),"render",function(){var t=e.props,r=t.children,n=t.disabled,i=t.handle,o=t.max,a=t.min,s=t.orientation,c=t.pitComponent,u=t.pitPoints,l=t.progressBar,f=e.state,h=f.className,p=f.handlePos,d=f.values;return na("div",{className:h,ref:e.rheostat,onClick:n?void 0:e.handleClick,style:{position:"relative"}},aA,p.map(function(t,r){return na(i,{"aria-valuemax":e.getMaxValue(r),"aria-valuemin":e.getMinValue(r),"aria-valuenow":d[r],"aria-disabled":n,"data-handle-key":r,className:"rheostat-handle",key:"handle-".concat(r),onClick:aC,onKeyDown:n?void 0:e.handleKeydown,onMouseDown:n?void 0:e.startMouseSlide,onTouchStart:n?void 0:e.startTouchSlide,role:"slider",style:"vertical"===s?{top:"".concat(t,"%"),position:"absolute"}:{left:"".concat(t,"%"),position:"absolute"},tabIndex:0})}),p.map(function(t,r,n){return 0===r&&n.length>1?null:na(l,{className:"rheostat-progress",key:"progress-bar-".concat(r),style:e.getProgressStyle(r)})}),c&&u.map(function(e){var t=aT(e,a,o);return na(c,{key:"pit-".concat(e),style:"vertical"===s?{top:"".concat(t,"%"),position:"absolute"}:{left:"".concat(t,"%"),position:"absolute"}},e)}),r)}),e}return Object.defineProperty(n,"prototype",{writable:!1}),n}(nl);function aH(e){return function(e){if(Array.isArray(e))return aL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return aL(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aL(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aM(){return(aM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function aU(e){return(aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aQ(e,t){return(aQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function aW(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a$(e){return(a$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aq(e,t,r){return(t=aB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aB(e){var t=function(e,t){if("object"!==aU(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==aU(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aU(t)?t:String(t)}ax(aD,"defaultProps",{className:"",children:null,disabled:!1,handle:function(e){return na("button",aE({},e,{type:"button"}))},max:100,min:0,onClick:null,onChange:null,onKeyPress:null,onSliderDragEnd:null,onSliderDragMove:null,onSliderDragStart:null,onValuesUpdated:null,orientation:"horizontal",pitComponent:null,pitPoints:[],progressBar:"div",snap:!1,snapPoints:[],values:[0]});var aV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aQ(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=a$(i);return e=t?Reflect.construct(r,arguments,a$(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===aU(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return aW(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return aq(aW(e=n.call.apply(n,[this].concat(r))),"handleChange",function(t){var r=t.values;e.isDisabled||e.props.refine(r)}),aq(aW(e),"createHandleComponent",function(e){return function(t){var r=Math.round(100*parseFloat(t["aria-valuenow"]))/100,n="object"===aU(e)&&e.format?e.format(r):r,i=rZ(t.className,0===t["data-handle-key"]&&"rheostat-handle-lower",1===t["data-handle-key"]&&"rheostat-handle-upper"),o=0===t["data-handle-key"]?"Minimum Filter Handle":"Maximum Filter Handle";return na("div",aM({},t,{className:i,"aria-label":o}),e&&na("div",{className:"rheostat-tooltip"},n))}}),e}return r=[{key:"isDisabled",get:function(){return this.props.min>=this.props.max}},{key:"computeDefaultPitPoints",value:function(e){var t=e.min,r=e.max,n=(r-t)/34;return[t].concat(aH(oN({end:33}).map(function(e){return t+n*(e+1)})),[r])}},{key:"computeSnapPoints",value:function(e){var t=e.min,r=e.max,n=e.step;if(n)return[].concat(aH(oN({start:t,end:r,step:n})),[r])}},{key:"render",value:function(){var e=this.props,t=e.tooltips,r=e.step,n=e.pips,i=e.values,o=e.cssClasses,a=this.isDisabled?{min:this.props.min,max:this.props.max+.001}:this.props,s=a.min,c=a.max,u=this.computeSnapPoints({min:s,max:c,step:r}),l=!1===n?[]:this.computeDefaultPitPoints({min:s,max:c});return na("div",{className:rZ(o.root,this.isDisabled&&o.disabledRoot)},na(aD,{handle:this.createHandleComponent(t),onChange:this.handleChange,min:s,max:c,pitComponent:aj,pitPoints:l,snap:!0,snapPoints:u,values:this.isDisabled?[s,c]:i,disabled:this.isDisabled}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aB(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(nl);function aK(e){return"number"==typeof e&&isFinite(e)}function aJ(e){return(aJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?az(Object(r),!0).forEach(function(t){aG(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aG(e,t,r){var n;return(n=function(e,t){if("object"!==aJ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==aJ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===aJ(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aZ(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a0=t6({name:"range-input",connector:!0},{name:"range-slider",connector:!0});function a1(e){var t=e.min,r=e.max,n=Math.pow(10,e.precision);return{min:t?Math.floor(t*n)/n:t,max:r?Math.ceil(r*n)/n:r}}var a2=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e9;return iC(e,a0()),function(r){var n=r||{},i=n.attribute,o=void 0===i?"":i,a=n.min,s=n.max,c=n.precision,u=void 0===c?0:c;if(!o)throw Error(a0("The `attribute` option is required."));if(aK(a)&&aK(s)&&a>s)throw Error(a0("The `max` option can't be lower than `min`."));var l={from:function(e){return e.toLocaleString()},to:function(e){return Number(Number(e).toFixed(u)).toLocaleString()}},f=function(e,t,r,n){var i,c,l=e.state,f=t.min,h=t.max,p=aX(l.getNumericRefinement(o,">=")||[],1)[0],d=aX(l.getNumericRefinement(o,"<=")||[],1)[0],m=void 0===r||""===r,g=void 0===n||""===n,y=a1({min:m?void 0:parseFloat(r),max:g?void 0:parseFloat(n),precision:u}),v=y.min,b=y.max;i=aK(a)||f!==v?aK(a)&&m?a:v:void 0,c=aK(s)||h!==b?aK(s)&&g?s:b:void 0;var O=void 0===i,S=aK(f)&&f<=i,j=O||aK(i)&&(!aK(f)||S),P=void 0===c,w=aK(c)&&h>=c,_=P||aK(c)&&(!aK(h)||w),R=d!==c;return(p!==i||R)&&j&&_?(l=l.removeNumericRefinement(o),aK(i)&&(l=l.addNumericRefinement(o,">=",i)),aK(c)&&(l=l.addNumericRefinement(o,"<=",c)),l.resetPage()):null};function h(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],n=aX(r,2),i=f(e,t,n[0],n[1]);i&&e.setState(i).search()}}return{$$type:"ais.range",init:function(t){e(aY(aY({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(aY(aY({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return aY(aY({},e),{},{range:aY(aY({},e.range),{},aG({},o,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,n,i,c=e.results,f=e.helper,p=e.instantSearchInstance,d=e7(c&&c.disjunctiveFacets||[],function(e){return e.name===o}),m=(t=d&&d.stats||{min:void 0,max:void 0},a1({min:aK(a)?a:aK(t.min)?t.min:0,max:aK(s)?s:aK(t.max)?t.max:0,precision:u})),g=(n=aX(f.getNumericRefinement(o,">=")||[],1)[0],i=aX(f.getNumericRefinement(o,"<=")||[],1)[0],[aK(n)?n:-1/0,aK(i)?i:1/0]);return{refine:c?h(f,m):h(f,{min:void 0,max:void 0}),canRefine:m.min!==m.max,format:l,range:m,sendEvent:function(){if(1==arguments.length){p.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}},widgetParams:aY(aY({},r),{},{precision:u}),start:g}},dispose:function(e){var r=e.state;return t(),r.removeDisjunctiveFacet(o).removeNumericRefinement(o)},getWidgetUiState:function(e,t){var r=t.searchParameters.getNumericRefinements(o),n=r[">="],i=void 0===n?[]:n,a=r["<="],s=void 0===a?[]:a;return 0===i.length&&0===s.length?e:aY(aY({},e),{},{range:aY(aY({},e.range),{},aG({},o,"".concat(i,":").concat(s)))})},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=e.addDisjunctiveFacet(o).setQueryParameters({numericRefinements:aY(aY({},e.numericRefinements),{},aG({},o,{}))});aK(a)&&(n=n.addNumericRefinement(o,">=",a)),aK(s)&&(n=n.addNumericRefinement(o,"<=",s));var i=r.range&&r.range[o];if(!i||-1===i.indexOf(":"))return n;var c=aX(i.split(":").map(parseFloat),2),u=c[0],l=c[1];return aK(u)&&(!aK(a)||a<u)&&(n=(n=n.removeNumericRefinement(o,">=")).addNumericRefinement(o,">=",u)),aK(l)&&(!aK(s)||l<s)&&(n=(n=n.removeNumericRefinement(o,"<=")).addNumericRefinement(o,"<=",l)),n}}}};function a3(e){return(a3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==a3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a3(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a4(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a9=t6({name:"range-slider"}),a7=m("RangeSlider"),a5=function(e){var t=e.containerNode,r=e.cssClasses,n=e.pips,i=e.step,o=e.tooltips;return function(e,a){var s=e.refine,c=e.range,u=e.start;if(!a){var l=c.min,f=c.max,h=function(e){if(Array.isArray(e))return e}(u)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{for(o=(r=r.call(e)).next;!(c=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(u,2)||function(e,t){if(e){if("string"==typeof e)return a4(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a4(e,2)}}(u,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=h[0],d=h[1],m=p===-1/0?l:p,g=d===1/0?f:d,y=[m>f?f:m,g<l?l:g];nP(na(aV,{cssClasses:r,refine:s,min:l,max:f,values:y,tooltips:o,step:i,pips:n}),t)}}};const se=rX({indexName:"products",searchClient:e(d)("YMNPMTXRZS","f9a38e240e972a777ee18bc87b224ab1")});se.addWidgets([function(e){var t=e||{},r=t.container,n=t.placeholder,i=t.cssClasses,o=void 0===i?{}:i,a=t.autofocus,s=t.searchAsYouType,c=t.ignoreCompositionEvents,u=t.showReset,l=t.showSubmit,f=t.showLoadingIndicator,h=t.queryHook,p=t.templates;if(!r)throw Error(iz("The `container` option is required."));var d=iQ(r),m=iU(iG({containerNode:d,cssClasses:{root:rZ(iY(),o.root),form:rZ(iY({descendantName:"form"}),o.form),input:rZ(iY({descendantName:"input"}),o.input),submit:rZ(iY({descendantName:"submit"}),o.submit),submitIcon:rZ(iY({descendantName:"submitIcon"}),o.submitIcon),reset:rZ(iY({descendantName:"reset"}),o.reset),resetIcon:rZ(iY({descendantName:"resetIcon"}),o.resetIcon),loadingIndicator:rZ(iY({descendantName:"loadingIndicator"}),o.loadingIndicator),loadingIcon:rZ(iY({descendantName:"loadingIcon"}),o.loadingIcon)},placeholder:void 0===n?"":n,templates:iJ(iJ({},iB),void 0===p?{}:p),autofocus:void 0!==a&&a,searchAsYouType:void 0===s||s,ignoreCompositionEvents:void 0!==c&&c,showReset:void 0===u||u,showSubmit:void 0===l||l,showLoadingIndicator:void 0===f||f}),function(){return nP(null,d)});return iJ(iJ({},m({queryHook:h})),{},{$$widgetType:"ais.searchBox"})}({container:"#searchbox",placeholder:"Search for products..."}),function(e){var t,r=e||{},n=r.container,i=r.escapeHTML,o=r.transformItems,a=r.templates,s=r.cssClasses;if(!n)throw Error(ow("The `container` option is required."));var c=iQ(n);return oj(oj({},(t=oR({containerNode:c,cssClasses:void 0===s?{}:s,renderState:{},templates:void 0===a?{}:a}),oo(function(e,r){var n=e.results,i=e.hits,o=e.instantSearchInstance;if(n&&i&&o){var a,s=(a=o.insightsClient,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var s=r[0];if(!a)throw Error(t6({name:"instantsearch"})("The `insightsClient` option has not been provided to `instantsearch`."));if(!Array.isArray(s.objectIDs))throw TypeError("Expected `objectIDs` to be an array.");var c=ol({method:e,results:n,hits:i,objectIDs:s.objectIDs});a(e,oc(oc({},c),s))});return t(oc(oc({},e),{},{insights:s}),r)}return t(e,r)},function(){return nP(null,c)}))({escapeHTML:i,transformItems:o})),{},{$$widgetType:"ais.hits"})}({container:"#hits",templates:{item:`
        <li class="ais-Hits-item">
          <div class="hit">
            <img src="{{image}}" alt="{{name}}" class="hit-image" />
            <div class="hit-content">
              <div class="hit-title">
                {{#helpers.highlight}}{ "attribute": "name" }{{/helpers.highlight}}
              </div>
              <div class="hit-price">
                \${{#price}}{{price}}{{/price}}
              </div>
            </div>
          </div>
        </li>
      `},transformItems:e=>(console.log("Items:",e),e)}),function(e){var t=e||{},r=t.container,n=t.templates,i=t.cssClasses,o=void 0===i?{}:i,a=t.totalPages,s=t.padding,c=t.showFirst,u=t.showLast,l=t.showPrevious,f=t.showNext,h=t.scrollTo,p=void 0===h?"body":h;if(!r)throw Error(oB("The `container` option is required."));var d=iQ(r),m=!0===p?"body":p,g=!1!==m&&iQ(m),y=oU(oK({containerNode:d,cssClasses:{root:rZ(oq(),o.root),noRefinementRoot:rZ(oq({modifierName:"noRefinement"}),o.noRefinementRoot),list:rZ(oq({descendantName:"list"}),o.list),item:rZ(oq({descendantName:"item"}),o.item),firstPageItem:rZ(oq({descendantName:"item",modifierName:"firstPage"}),o.firstPageItem),lastPageItem:rZ(oq({descendantName:"item",modifierName:"lastPage"}),o.lastPageItem),previousPageItem:rZ(oq({descendantName:"item",modifierName:"previousPage"}),o.previousPageItem),nextPageItem:rZ(oq({descendantName:"item",modifierName:"nextPage"}),o.nextPageItem),pageItem:rZ(oq({descendantName:"item",modifierName:"page"}),o.pageItem),selectedItem:rZ(oq({descendantName:"item",modifierName:"selected"}),o.selectedItem),disabledItem:rZ(oq({descendantName:"item",modifierName:"disabled"}),o.disabledItem),link:rZ(oq({descendantName:"link"}),o.link)},templates:o$(o$({},oV),void 0===n?{}:n),showFirst:void 0===c||c,showLast:void 0===u||u,showPrevious:void 0===l||l,showNext:void 0===f||f,scrollToNode:g}),function(){return nP(null,d)});return o$(o$({},y({totalPages:a,padding:s})),{},{$$widgetType:"ais.pagination"})}({container:"#pagination"}),function(e){var t=e||{},r=t.container,n=t.attribute,i=t.operator,o=t.sortBy,a=t.limit,s=t.showMore,c=t.showMoreLimit,u=t.searchable,l=void 0!==u&&u,f=t.searchablePlaceholder,h=t.searchableEscapeFacetValues,p=t.searchableIsAlwaysActive,d=t.cssClasses,m=void 0===d?{}:d,g=t.templates,y=void 0===g?{}:g,v=t.transformItems;if(!r)throw Error(am("The `container` option is required."));var b=iQ(r);return ad(ad({},al(av({containerNode:b,cssClasses:{root:rZ(ag(),m.root),noRefinementRoot:rZ(ag({modifierName:"noRefinement"}),m.noRefinementRoot),list:rZ(ag({descendantName:"list"}),m.list),item:rZ(ag({descendantName:"item"}),m.item),selectedItem:rZ(ag({descendantName:"item",modifierName:"selected"}),m.selectedItem),searchBox:rZ(ag({descendantName:"searchBox"}),m.searchBox),label:rZ(ag({descendantName:"label"}),m.label),checkbox:rZ(ag({descendantName:"checkbox"}),m.checkbox),labelText:rZ(ag({descendantName:"labelText"}),m.labelText),count:rZ(ag({descendantName:"count"}),m.count),noResults:rZ(ag({descendantName:"noResults"}),m.noResults),showMore:rZ(ag({descendantName:"showMore"}),m.showMore),disabledShowMore:rZ(ag({descendantName:"showMore",modifierName:"disabled"}),m.disabledShowMore),searchable:{root:rZ(ay(),m.searchableRoot),form:rZ(ay({descendantName:"form"}),m.searchableForm),input:rZ(ay({descendantName:"input"}),m.searchableInput),submit:rZ(ay({descendantName:"submit"}),m.searchableSubmit),submitIcon:rZ(ay({descendantName:"submitIcon"}),m.searchableSubmitIcon),reset:rZ(ay({descendantName:"reset"}),m.searchableReset),resetIcon:rZ(ay({descendantName:"resetIcon"}),m.searchableResetIcon),loadingIndicator:rZ(ay({descendantName:"loadingIndicator"}),m.searchableLoadingIndicator),loadingIcon:rZ(ay({descendantName:"loadingIcon"}),m.searchableLoadingIcon)}},templates:y,searchBoxTemplates:{submit:y.searchableSubmit,reset:y.searchableReset,loadingIndicator:y.searchableLoadingIndicator},renderState:{},searchable:l,searchablePlaceholder:void 0===f?"Search...":f,searchableIsAlwaysActive:void 0===p||p,showMore:s}),function(){return nP(null,b)})({attribute:n,operator:i,limit:a,showMore:s,showMoreLimit:c,sortBy:o,escapeFacetValues:!!l&&!!(void 0===h||h),transformItems:v})),{},{$$widgetType:"ais.refinementList"})}({container:"#brand-list",attribute:"brand",searchable:!1,templates:{header:"Brand"}}),function(e){var t=e||{},r=t.container,n=t.attribute,i=t.min,o=t.max,a=t.cssClasses,s=void 0===a?{}:a,c=t.step,u=t.pips,l=t.precision,f=t.tooltips;if(!r)throw Error(a9("The `container` option is required."));var h=iQ(r);return a6(a6({},a2(a5({containerNode:h,step:c,pips:void 0===u||u,tooltips:void 0===f||f,cssClasses:{root:rZ(a7(),s.root),disabledRoot:rZ(a7({modifierName:"disabled"}),s.disabledRoot)}}),function(){return nP(null,h)})({attribute:n,min:i,max:o,precision:void 0===l?0:l})),{},{$$type:"ais.rangeSlider",$$widgetType:"ais.rangeSlider"})}({container:"#price-range",attribute:"price",templates:{header:"Price"},tooltips:{format:e=>`$${Math.round(e)}`}})]),se.start();
//# sourceMappingURL=index.a928462d.js.map
